{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/components.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/components/prmAlmaOtherMembersAfter/regViewOtherMembers.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/components/prmFullViewAfter/fullViewSectionOrdering.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/components/prmSearchResultAvailabilityLineAfter/regViewAvailabilityLine.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/main.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/explore.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/explore/components.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/explore/helper.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/facets.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/records.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/user.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/primo/view.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/primo-explore-dom/js/vendor/css-selector-generator.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/templates.js","primo-explore/custom/32KUL_KUL-REGIONAL/js/utils.js"],"names":[],"mappings":"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","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*\r\n  Declare your components here.\r\n\r\n  Rewrite this when imports can be done dynamically\r\n  http://2ality.com/2017/01/import-operator.html\r\n\r\n  KULeuven/LIBIS (c) 2017\r\n  Mehmet Celik\r\n*/\r\nimport './utils';\r\n/* import your component configuration*/\r\nimport {regViewOtherMembersConfig} from './components/prmAlmaOtherMembersAfter/regViewOtherMembers'\r\nimport {regViewAvailabilityLineConfig} from './components/prmSearchResultAvailabilityLineAfter/regViewAvailabilityLine'\r\nimport {fullViewSectionOrderingConfig} from './components/prmFullViewAfter/fullViewSectionOrdering'\r\n\r\nexport default class AfterComponents {\r\n\r\n  static get all() {\r\n    /*\r\n      name = the sub element in the after element\r\n      config = the imported configuration object\r\n      enabled = true/false should the component be created\r\n      appendTo = The component should be created in this after component.\r\n\r\n      ex. {name: 'home-icon', config: homeIconConfig, enabled: true, appendTo: 'prm-logo-after'}\r\n      results in:\r\n        <prm-logo-after parentCtrl='$ctrl'>\r\n          <home-icon parentCtrl='$ctrl'></home-icon>\r\n        </prm-logo-after>\r\n    */\r\n    return [\r\n      /*\r\n      {name: 'libis-experiment', config: experimentConfig, enabled: false, appendTo: 'prm-messages-and-blocks-overview-after', enableInView: '.*'},\r\n      {name: 'libis-remove-user-area', config: removeUserAreaConfig, enabled: false, appendTo: 'prm-user-area-expandable-after', enableInView: '.*'},      \r\n      */\r\n      {name: 'libis-only-members', config: regViewOtherMembersConfig, enabled: true, appendTo: 'prm-alma-other-members-after', enableInView: '.*'},\r\n      {name: 'libis-availability-line', config: regViewAvailabilityLineConfig, enabled: true, appendTo: 'prm-search-result-availability-line-after', enableInView: '.*'},\r\n      {name: 'libis-full-view-section-ordering', config: fullViewSectionOrderingConfig, enabled: true, appendTo: 'prm-full-view-after', enableInView: '.*'},\r\n\r\n    ].filter( (component) => ( component.enabled && new RegExp(component.enableInView).test(window.appConfig.vid) ) );\r\n  }\r\n}\r\n","class regViewOtherMembersController {\r\n  constructor($scope, $element, $compile, $http, $rootScope) {\r\n    let self = this;\r\n    self.$scope = $scope;\r\n    self.$rootScope = $rootScope;\r\n    self.$element = $element;\r\n/*\r\n    console.log(  $rootScope )\r\n    console.log( self )\r\n    console.log(  self.parentCtrl.parentCtrl )\r\n*/\r\n    let itemDelivery = self.parentCtrl.parentCtrl.$scope.$parent.$parent.$parent.$ctrl.item.delivery;\r\n\r\n/*\r\nAlleen in eigen instelling\r\nhttp://localhost:8003/discovery/fulldisplay?docid=alma9925641190101488&context=L&vid=32KUL_KUL:LIBISNET2_UNION&lang=en&search_scope=DN_and_CI_UCV&adaptor=Local%20Search%20Engine&isFrbr=true&tab=DiscoveryNetwork_UCV&query=any,contains,wood&sortby=date_d&facet=frbrgroupid,include,9009075752282052547&offset=0\r\nhttp://localhost:8003/discovery/fulldisplay?docid=alma9992429289701488&context=L&vid=32KUL_KUL:LIBISNET2_UNION&lang=en&search_scope=DN_and_CI_UCV&adaptor=Local%20Search%20Engine&tab=DiscoveryNetwork_UCV&query=any,contains,wood&offset=0\r\n====> Dan is er ook geen prm-alma-other-members-after element !!!\r\n====> Deze controler zal dan niet worden uitgevoerd.\r\n\r\n=> FRBR \r\nhttps://libis-network.primo.exlibrisgroup.com/primaws/rest/priv/nz/pnx/P/9930070000101471?record-institution=32KUL_KUL&lang=en\r\nhttp://localhost:8003/primaws/rest/priv/nz/pnx/P/9930070000101488?record-institution=32KUL_KUL&lang=en\r\n\r\n\r\n\r\n\r\nNiet in eigen instelling\r\nhttp://localhost:8003/discovery/search?query=any,contains,9992170794501502&tab=DiscoveryNetwork_UCV&search_scope=DN_and_CI_UCV&vid=32KUL_KUL:LIBISNET2_UNION\r\n\r\n*/\r\n\r\n    if ( itemDelivery.serviceMode.includes(\"ovp\") ){\r\n      self.removePrmOpac();\r\n      self.addInstToAlmaInstitutionsList();\r\n    }\r\n    // console.log ( self.parentCtrl.parentCtrl.almaInstitutionsList )\r\n    self.parentCtrl.parentCtrl.almaInstitutionsList.sort((a, b) => (a.instName > b.instName) ? 1 : -1);\r\n  }\r\n\r\n  addInstToAlmaInstitutionsList() {\r\n    this.parentCtrl.parentCtrl.almaInstitutionsList.push(\r\n      {\r\n        \"getitLink\": [\r\n            {\r\n                \"displayText\": null,\r\n                \"linkRecordId\": this.parentCtrl.parentCtrl.almaInstitutionsList[0].getitLink[0].linkRecordId\r\n            }\r\n        ],\r\n        \r\n        \"instCode\": window.appConfig[\"primo-view\"].institution[\"institution-code\"],\r\n        \"instName\":  window.appConfig[\"primo-view\"].institution[\"institution-name\"],\r\n        \"instId\": window.appConfig[\"primo-view\"].institution.id,\r\n        \"availabilityStatus\": \"available_in_institution\",\r\n      }\r\n    );\r\n  }\r\n\r\n  removePrmOpac(){\r\n    let unbindWatcher = this.$scope.$watch(() =>\r\n      this.$element.parent().parent().parent().find('prm-opac'),\r\n      (newVal, oldVal) => {\r\n        //console.log (this);\r\n        if (newVal) {\r\n          newVal.find('md-tabs').remove();\r\n          unbindWatcher();\r\n        }\r\n      }\r\n    );\r\n   \r\n/*\r\n    Promise.resolve( this.$scope.$parent.$parent.$parent.$parent.$parent.$ctrl.fullViewService.getServices( this.parentCtrl.item, this.parentCtrl.originator) ).then(\r\n      function(services) {\r\n        console.log (services)\r\n        // Add to services if not alread in the list\r\n        //if ( services.findIndex(service => service.scrollId === \"altmetrics\") < 0 ){\r\n          services.splice(services.length -2, 0, sectionData);\r\n        //}\r\n    })\r\n*/\r\n/*\r\n\r\n    var prmOpacElement = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac')\r\n    var prmOpacMdTabsElement = document.querySelectorAll('#getit_link1_0 > div > prm-full-view-service-container > div.section-body > div > prm-opac > md-tabs')\r\n    console.log (prmOpacElement)\r\n    console.log (prmOpacMdTabsElement)\r\n    if ( prmOpacElement ) {\r\n      console.log (\"remover prmOpacElement\")\r\n      prmOpacElement[0].style.backgroundColor = \"red\";\r\n    }\r\n*/\r\n\r\n  }\r\n}\r\n\r\nregViewOtherMembersController.$inject = ['$scope', '$element', '$compile', '$http', '$rootScope'];\r\n\r\nexport let regViewOtherMembersConfig = {\r\n  bindings: {parentCtrl: '<'},\r\n  controller: regViewOtherMembersController,\r\n  template: ''\r\n}\r\n","class fullViewSectionOrderingController {\r\n\r\n    constructor($scope) {\r\n        this.$scope = $scope;\r\n        this.sectionOrderNameList = [\"howovp\", \"ovp\", \"links\", \"details\", \"howovp\", \"ovp\", \"citationTrails\",\"virtualBrowse\", \"action_list\"]\r\n    }\r\n    $onInit() {\r\n        this.sectionOrderNameList.unshift(\"brief\"); \r\n        try {\r\n            this.$scope.$watch('this.$ctrl.parentCtrl.parentCtrl.services', \r\n            function (newValue, oldValue, scope) {\r\n                if (newValue) {\r\n                    /* Only thake the available services from sectionOrderNameList */\r\n                    /* select the services that are not listed in sectionOrderNameList from the available services */\r\n                    /* append them to sectionOrderNameList (they will be displayes at the bottom) */\r\n                    let sectionsServiceNameList = scope.$ctrl.parentCtrl.parentCtrl.services.map( s =>  s.serviceName);\r\n                    let sectionsServiceIncludedNameList = sectionsServiceNameList.filter(section => scope.$ctrl.sectionOrderNameList.includes(section))\r\n                    let sectionsServiceExcludedNameList = sectionsServiceNameList.filter(section => ! scope.$ctrl.sectionOrderNameList.includes(section))\r\n                    let sectionOrderNameList = scope.$ctrl.sectionOrderNameList.filter(section => sectionsServiceIncludedNameList.includes(section))\r\n                    sectionOrderNameList = sectionOrderNameList.concat ( sectionsServiceExcludedNameList )\r\n\r\n                    if (newValue && JSON.stringify(sectionsServiceNameList) !== JSON.stringify(sectionOrderNameList) ){\r\n                        scope.$ctrl.orderingSections(scope.$ctrl.parentCtrl.parentCtrl.services, sectionOrderNameList);\r\n                    }\r\n                }\r\n            }, true);\r\n\r\n        } catch (e) {\r\n            console.error(\"fullViewSectionOrderingController constructor\");\r\n            console.error(e.message);\r\n        }\r\n\r\n    }\r\n    orderingSections(sections, sectionOrderNameList) {\r\n        try {\r\n            // brief is always the first section\r\n            let OrderedSections = sections\r\n            OrderedSections = OrderedSections.map( (s) =>  {s.order = sectionOrderNameList.indexOf(s.serviceName); return s;} )\r\n            OrderedSections = OrderedSections.sort((a, b) => a.order - b.order);\r\n            OrderedSections.forEach((section, index) => { \r\n            //    this.parentCtrl.parentCtrl.services[index] = section\r\n                sections[index] = section\r\n            })\r\n        } catch (e) {\r\n            console.error(\"fullViewSectionOrderingController orderingSections\");\r\n            console.error(e);\r\n        }\r\n    }\r\n}\r\n\r\nfullViewSectionOrderingController.$inject = ['$scope'];\r\n\r\nexport let fullViewSectionOrderingConfig = {\r\n    bindings: {parentCtrl: '<'},\r\n    controller: fullViewSectionOrderingController,\r\n    template: ''\r\n}\r\n","  \r\n\r\n\r\n  class regViewAvailabilityLineController {\r\n    constructor($scope,$element,$translate) {\r\n      let self = this;\r\n\r\n      self.almaInstitutionsFilterInstCodeList = [\"32KUL_HUB\",\"32KUL_KHM\",\"32KUL_KHK\",\"32KUL_KHL\",\"32KUL_KATHO\",\"32KUL_LUCAWENK\"]\r\n      \r\n      self.$scope = $scope;\r\n      self.$element = $element;\r\n      self.$translate = $translate;\r\n      self.$ctrl = self.parentCtrl.parentCtrl ;\r\n      self.viewInst = window.appConfig[\"primo-view\"].institution.description;\r\n\r\n      /*\r\n      console.log( self )\r\n      console.log ( self.$ctrl.result.delivery.almaInstitutionsList )\r\n      console.log ( self.$ctrl)\r\n      console.log ( \"displayedAvailability:\"+ self.$ctrl.displayedAvailability );\r\n      */\r\n      self.$ctrl.displayedAvailability.forEach(availability => {\r\n        /*\r\n        console.log ( \"ifShowAvailability(availability):\"+ self.$ctrl.ifShowAvailability(availability) );\r\n        console.log ( \"!$ctrl.isCollectionDiscoveryCollection:\"+ self.$ctrl.isCollectionDiscoveryCollection );\r\n        console.log ( \"$ctrl.showTimer:\"+ self.$ctrl.showTimer);\r\n        console.log ( \"$ctrl.handleDueDate(availability):\"+ self.$ctrl.handleDueDate(availability) );\r\n        console.log ( \"$ctrl.isPhysical():\"+ self.$ctrl.isPhysical());\r\n        console.log ( \"$translate.instant('delivery.code.available_in_library') :\"+ $translate.instant('delivery.code.'+ self.$ctrl.handleDueDate(availability) )  );\r\n        console.log (  $translate.instant('delivery.code.'+ self.$ctrl.handleDueDate(availability) )  );\r\n        */\r\n        // ng-if=\"::($ctrl.showDisplayOtherLocations() || $ctrl.showDisplayLocation()  || $ctrl.showOtherLibraries(availability)) && $ctrl.isPhysical($index)\"\r\n\r\n        var availabilityInstitutions = self.$ctrl.result.delivery.almaInstitutionsList.filter(inst => {\r\n            return (inst.availabilityStatus === \"available_in_institution\" &&  self.almaInstitutionsFilterInstCodeList.includes(inst.instCode))\r\n        })\r\n        //console.log ( availabilityInstitutions.map( inst => inst.instName ).join() );\r\n\r\n        var availabilityInstitutionsNames = availabilityInstitutions.map( inst => inst.instName )\r\n\r\n        if ( availabilityInstitutionsNames.length > 0){\r\n            if (self.$ctrl.result.delivery.availability[0]  === \"available_in_library\"){\r\n                // replace instname from availabilityText with list of instnames\r\n                availabilityInstitutionsNames.unshift( window.appConfig[\"primo-view\"].institution.description );\r\n                self.$ctrl.availabilityRegView = \r\n                    $translate.instant('delivery.code.'+ self.$ctrl.handleDueDate(availability) ).replace(\r\n                        window.appConfig[\"primo-view\"].institution.description , \r\n                        availabilityInstitutionsNames.slice(0, -1).join(', ') +' and '+ availabilityInstitutionsNames.slice(-1)\r\n                    );\r\n            }\r\n            // if (self.$ctrl.result.delivery.bestlocation === null) {\r\n            if (self.$ctrl.result.delivery.availability[0] === \"no_inventory\"){\r\n                //self.$ctrl.displayedAvailability = [\"available_in_library\"];\r\n                self.$ctrl.result.delivery.availability = [\"available_in_library\"];\r\n                if  (availabilityInstitutionsNames.length === 1) {\r\n                    self.$ctrl.availabilityRegView = \r\n                    $translate.instant('delivery.code.available_in_library').replace(\r\n                        window.appConfig[\"primo-view\"].institution.description , \r\n                        availabilityInstitutionsNames[0]\r\n                    );\r\n                }else{\r\n                    self.$ctrl.availabilityRegView = \r\n                    $translate.instant('delivery.code.available_in_library').replace(\r\n                        window.appConfig[\"primo-view\"].institution.description , \r\n                        availabilityInstitutionsNames.slice(0, -1).join(', ') +' and '+ availabilityInstitutionsNames.slice(-1)\r\n                    );\r\n                }\r\n            }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  regViewAvailabilityLineController.$inject = ['$scope','$element','$translate'];\r\n  \r\n  export let regViewAvailabilityLineConfig = {\r\n    bindings: {parentCtrl: '<'},\r\n    controller: regViewAvailabilityLineController,\r\n    template: ''\r\n  }\r\n  ","/*\r\n  Central Package Loader\r\n\r\n  Do NOT edit this file.\r\n  All components are declared in \"components.js\"\r\n\r\n  KULeuven/LIBIS (c) 2017\r\n  Mehmet Celik\r\n*/\r\nimport Primo from './primo-explore-dom/js/primo'\r\nimport Helper from './primo-explore-dom/js/primo/explore/helper'\r\nimport Components from './components'\r\nimport Templates from './templates'\r\n\r\n//make Primo public\r\nwindow.Primo = Primo;\r\n//load PrimoExplorer UI if angular.reloadWithDebugInfo() is ran\r\nwindow.setTimeout(function () {\r\n  if (Primo.isDebugEnabled()) {\r\n    let uiURL = 'https://cdn.rawgit.com/mehmetc/primo-explore-dom-ui/fc0868df/js/custom.js';\r\n    //let uiURL = 'http://127.0.0.1:8000/js/custom.js';\r\n\r\n    Helper.loadScript(uiURL).then(() => {\r\n      console.log('Injecting UI');\r\n      Primo.explore.ui.toggle();\r\n    });\r\n  }\r\n}, 2000);\r\n\r\nlet servicesHost = 'https://services.libis.be/';\r\n\r\n// let app = angular.module('viewCustom', ['ngMaterial', 'vcRecaptcha','googleAnalytics'])\r\nlet app = angular.module('viewCustom', ['ngMaterial', 'vcRecaptcha'])\r\n/*\r\n  .constant('feedbackServiceURL', servicesHost + 'feedback')\r\n  .constant('reportAProblemURL', servicesHost + 'report_a_problem')\r\n  .constant('requestACopyURL', servicesHost + 'request_a_copy')\r\n  .constant('requestACopyOfEsDocURL', servicesHost + 'illjwtform')\r\n  .config(($sceDelegateProvider) => {\r\n    $sceDelegateProvider.resourceUrlWhitelist([\r\n      '**'\r\n    ]);\r\n  })\r\n*/\r\n/*\r\napp.factory('regViewSearchHttpCallInterceptor', regViewSearchHttpCallInterceptor)  \r\n//intercept api calls for database search and change to KUL (only regional views)\r\nvar reg_views = [\"32KUL_HUB:LIBISNET2_UNION\"];\r\nif (reg_views.includes(window.appConfig.vid)) {\r\n  app.config(['$httpProvider', ($httpProvider) => { $httpProvider.interceptors.push('regViewSearchHttpCallInterceptor'); }]);\r\n}\r\n*/\r\n\r\n//Contains the after component selectors that will be injected\r\nlet afterComponents = {};\r\n\r\n//Create all components and determine in which after component these need to be\r\n//injected\r\nconsole.log('Loading viewCustom components');\r\nComponents.all.forEach((component) => {\r\n  console.log(component.name)\r\n  if (component.enabled) {\r\n    if (component.appendTo) {\r\n      let elements = afterComponents[component.appendTo] || [];\r\n      //elements.push(component.name);\r\n      elements.push({\r\n        'name': component.name,\r\n        'enableInView': component.enableInView\r\n      });\r\n      afterComponents[component.appendTo] = elements;\r\n\r\n    }\r\n    app.constant('afterComponents', afterComponents);\r\n    app.component(component.name.toCamelCase(), component.config);\r\n  }\r\n})\r\n;\r\n\r\nconsole.log('Replace Templates');\r\nTemplates.all.forEach((template) => {\r\n  console.log(template.id)\r\n  app.run(($templateCache) => {\r\n    $templateCache.put(template.id, template.template);\r\n  })\r\n})\r\n\r\n//Inject place holders into the after components\r\nObject.keys(afterComponents).forEach((component, i) => {\r\n  let subComponents = afterComponents[component];\r\n/*\r\n  console.log ( subComponents )\r\n  console.log ( subComponents.map(m => `<${m.name} parent-ctrl=\"$ctrl\"></${m.name}>`) )\r\n*/\r\n  app.component(component.toCamelCase(), {\r\n    bindings: {\r\n      parentCtrl: '<'\r\n    },\r\n    template: subComponents.map(m => `<${m.name} parent-ctrl=\"$ctrl\"></${m.name}>`).join(\"\")\r\n  });\r\n});\r\n\r\n","import Explore from './primo/explore'\r\nimport Records from './primo/records'\r\nimport Facets from './primo/facets'\r\nimport View from './primo/view'\r\nimport User from './primo/user'\r\nimport Helper from './primo/explore/helper'\r\n\r\n/**\r\n * Primo main entry class\r\n */\r\nexport default class Primo {\r\n  /**\r\n   * Return version information\r\n   * @return {string}\r\n   */\r\n  static get version() {\r\n    let _version = \"0.0.10\";\r\n    return `Library:${_version} - Primo:${window.appConfig['system-configuration'].Primo_Version_Number}:${window.appConfig['system-configuration'].Primo_HotFix_Number}`;\r\n  }\r\n\r\n  /**\r\n   * Check if angular.reloadWithDebugInfo() has ran\r\n   * @return {boolean}\r\n   */\r\n  static isDebugEnabled() {\r\n    return Helper.isDebugEnabled();\r\n  }\r\n\r\n  /**\r\n   * Did the script ran on a Primo site\r\n   * @return {boolean}\r\n   */\r\n  static isPrimoAvailable() {\r\n    return Helper.isPrimoAvailable();\r\n  }\r\n\r\n  /**\r\n   * This is a proxy class\r\n   * @return {Explore}\r\n   */\r\n  static get explore() {\r\n    return Explore;\r\n  }\r\n\r\n  /**\r\n   * Get a pointer to available records\r\n   * @return {Records}\r\n   */\r\n  static get records(){\r\n    return new Promise((resolve, reject) => {\r\n      resolve(new Records(this.explore.components));\r\n    })\r\n    //return new Records(this.explore.components);\r\n  }\r\n\r\n  /**\r\n   * Get a pointer to available facets\r\n   * @return {Facets}\r\n   */\r\n  static get facets(){\r\n    return new Promise((resolve, reject) => {\r\n      resolve(new Facets(this.explore.components));\r\n    })\r\n    //return new Facets(this.explore.components);\r\n  }\r\n\r\n  /**\r\n   * Get a pointer to view related metadata\r\n   * @return {View}\r\n   */\r\n  static get view() {\r\n    return new Promise((resolve, reject) => {\r\n      resolve(new View());\r\n    })\r\n    //return new View();\r\n  }\r\n\r\n  /**\r\n   * Get a pointer to user related metadata\r\n   * @return {User}\r\n   */\r\n  static get user() {\r\n    return new Promise((resolve, reject) => {\r\n      Helper.userDetailsHTTP().then((userDetails)=>{\r\n        Helper.userFinesHTTP().then((userFines) => {\r\n          Helper.userLoansHTTP().then((userLoans) => {\r\n              resolve(new User({details: userDetails, fines: userFines, loans: userLoans}));\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import Components from './explore/components'\r\nimport Helper from './explore/helper'\r\n\r\n//this is proxy class\r\nexport default class Explore {\r\n  static get components() {\r\n    let c = new Components();\r\n    Helper.componentNames.forEach((selector) => {\r\n      c.add(selector);\r\n    })\r\n\r\n    return c;\r\n  }\r\n\r\n  static get ui() {\r\n    if (this._ui === undefined) {\r\n      console.error('This is a stub function call \"angular.reloadWithDebugInfo()\" to activate UI');\r\n    }\r\n    return this._ui;\r\n  }\r\n\r\n  static get helper() {\r\n    return Helper;\r\n  }\r\n}\r\n","var cssSelectorGenerator = new(require('../../vendor/css-selector-generator.js')).CssSelectorGenerator;\r\n\r\nimport Helper from './helper'\r\n\r\nclass Component {\r\n  constructor(element){\r\n    this.element = element;\r\n  }\r\n\r\n  blink(){\r\n    Helper.blink(this);\r\n  }\r\n\r\n  get cssPath(){\r\n    return cssSelectorGenerator.getSelector(this.element);\r\n  }\r\n\r\n  get name(){\r\n    return this.element.localName;\r\n  }\r\n\r\n  scope(){\r\n    if (Helper.isDebugEnabled()){\r\n      return angular.element(this.element).scope();\r\n    } else {\r\n      console.error('Please run \"angular.reloadWithDebugInfo()\" first');\r\n    }\r\n  }\r\n\r\n  ctrl(){\r\n    let c = angular.element(this.element).controller(this.name);\r\n    if (c) {\r\n      return c;\r\n    } else {\r\n      console.log('using alternative method to get controller');\r\n      let scope = this.scope();\r\n      if (scope) {\r\n        let scopeChild = scope.$$childTail;\r\n        if (Object.keys(scope).includes('$ctrl')) {\r\n            return scope.$ctrl\r\n        } else if(Object.keys(scope).includes('ctrl')) {\r\n            return scope.ctrl\r\n        } else if (scopeChild && Object.keys(scopeChild).includes('$ctrl')){\r\n            return scopeChild.$ctrl;\r\n        } else if (scopeChild && Object.keys(scopeChild).includes('ctrl')){\r\n            return scopeChild.ctrl;\r\n        } else {\r\n            console.error('No $ctrl defined');\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default class Components {\r\n  constructor(){\r\n\r\n      this._components = {};\r\n  }\r\n\r\n  add(selector) {\r\n    let elements = Helper.querySelectorAll(selector);\r\n    let elementsArray = this._components[selector] || [];\r\n\r\n    elements.forEach((element)=>{\r\n      elementsArray.push(new Component(element));\r\n    });\r\n\r\n    this._components[selector] = elementsArray;\r\n\r\n    return elementsArray;\r\n  }\r\n\r\n  get(selector) {\r\n    return this._components[selector] || null;\r\n  }\r\n\r\n  keys(){\r\n    return Object.keys(this._components);\r\n  }\r\n\r\n}\r\n","export default class Helper {\r\n    static isDebugEnabled() {\r\n        return window.name === 'NG_ENABLE_DEBUG_INFO!' || typeof(angular.element(document.querySelector('prm-logo')).scope()) != 'undefined' ? true : false;\r\n    }\r\n\r\n    static isPrimoAvailable() {\r\n        if ('undefined' !== typeof(window.angular)) {\r\n            if (document.querySelector('primo-explore') !== null) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static get componentNames() {\r\n        let tags = Array.from(document.getElementsByTagName('*'));\r\n        let componentNames = [];\r\n        for (let tag of tags) {\r\n            let tagName = tag.localName;\r\n            if (/^prm-/.test(tagName) || /^primo-/.test(tagName)) {\r\n                if (!componentNames.includes(tagName)) {\r\n                    componentNames.push(tagName);\r\n                }\r\n            }\r\n        }\r\n\r\n        componentNames = componentNames.sort().filter((e, i, a) => i === a.findIndex((e2) => e === e2));\r\n        return componentNames;\r\n    }\r\n\r\n    static querySelectorAll(selector) {\r\n        return Array.from(document.querySelectorAll(selector));\r\n    }\r\n\r\n    static injector() {\r\n      let c = Primo.explore.components.get('primo-explore');\r\n      if (c && c.length > 0) {\r\n          let primoExplore = angular.element(c[0].element);\r\n          let injector     = primoExplore.injector();\r\n          if (injector){\r\n            return injector;\r\n          }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    static get http() {\r\n      let injector = this.injector();\r\n      if (injector) {\r\n        let h = injector.get('$http');\r\n        if (h) {\r\n          return h;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n\r\n    static loadScript(scriptURL) {\r\n      if (window.angular) {\r\n          let appInjector = angular.injector(['ng','angularLoad']);\r\n          if (appInjector) {\r\n              let angularLoad = appInjector.get('angularLoad');\r\n              if (angularLoad) {\r\n                return angularLoad.loadScript(scriptURL);\r\n              }\r\n          }\r\n      }\r\n    }\r\n\r\n    static rootScope() {\r\n      let injector = this.injector();\r\n      if (injector) {\r\n          let rootScope    = injector.get('$rootScope');\r\n          if (rootScope) {\r\n            return rootScope;\r\n          }\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    static userSessionManagerService() {\r\n      let rootScope = this.rootScope();\r\n      if (rootScope) {\r\n        return rootScope.$$childHead.$ctrl.userSessionManagerService;\r\n      }\r\n\r\n      return null;\r\n    }\r\n\r\n    static jwtData() {\r\n      let uSMS = this.userSessionManagerService();\r\n      if (uSMS) {\r\n        let jwtData = uSMS.jwtUtilService.getDecodedToken() || {};\r\n        return jwtData;\r\n      }\r\n    }\r\n\r\n    static userDetails() {\r\n      return new Promise((resolve, reject) => {\r\n        this.userSessionManagerService().$localForage.getItem('userDetails').then(userDetails => resolve(userDetails));\r\n      });\r\n    }\r\n\r\n    static userDetailsHTTP() {\r\n      let viewCode = this.jwtData().viewId || window.appConfig['vid'];\r\n      return new Promise( (resolve,reject) => {\r\n        this.http.get(`/primo_library/libweb/webservices/rest/v1/usersettings?vid=${viewCode}`).then(userDetails => resolve(userDetails.data));\r\n      });\r\n    }\r\n\r\n    static userFinesHTTP() {\r\n      return new Promise((resolve, reject) => {\r\n        this.http.get('/primo_library/libweb/webservices/rest/v1/myaccount/fines').then(userFines => {\r\n          try {\r\n            let data = userFines.data;\r\n            if (data.status == 'ok') {\r\n                let fines = data.data.fines;\r\n                resolve(fines.fine);\r\n            } else {\r\n              console.log('No fines');\r\n              resolve([]);\r\n            }\r\n          }\r\n          catch(error){\r\n            resolve([]);\r\n          }\r\n        }\r\n        );\r\n      });\r\n    }\r\n\r\n    static userLoansHTTP() {\r\n      return new Promise((resolve, reject) => {\r\n        this.http.get('/primo_library/libweb/webservices/rest/v1/myaccount/loans').then(userLoans => {\r\n          try {\r\n            let data = userLoans.data;\r\n            if (data.status == 'ok') {\r\n                let loans = data.data.loans;\r\n                resolve(loans.loan);\r\n            } else {\r\n              console.log('No loans');\r\n              resolve([]);\r\n            }\r\n          }\r\n          catch(error){\r\n            resolve([]);\r\n          }\r\n        }\r\n        );\r\n      });\r\n    }\r\n\r\n    static blink(component, numberOfBlinks = 4) {\r\n        let intervalId = null;\r\n        let borderElement = null;\r\n        let index = Math.floor(Math.random() * (1000 - 1)) + 1;\r\n        let borderSelector = component.element.cssPath + index + 'Rect';\r\n\r\n        let createBorderElement = () => {\r\n            if (component && component.element) {\r\n                let elementRect = component.element.getBoundingClientRect();\r\n                let borderElement = document.createElement('div');\r\n                let index = Math.floor(Math.random() * (1000 - 1)) + 1;\r\n                borderElement.setAttribute('id', borderSelector);\r\n                borderElement.style.border = '3px solid red';\r\n                borderElement.style.position = 'absolute';\r\n                borderElement.style.top = elementRect.top + 'px';\r\n                borderElement.style.height = elementRect.height + 'px';\r\n                borderElement.style.width = elementRect.width + 'px';\r\n                borderElement.style.left = elementRect.left + 'px';\r\n                document.body.appendChild(borderElement);\r\n\r\n                return document.querySelector('#' + borderSelector);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        let removeBorderElement = () => {\r\n          if (borderElement) {\r\n            borderElement.remove();\r\n          }\r\n        }\r\n\r\n        let blinkBorderElement = (numberOfBlinks = 4) => {\r\n            window.clearInterval(intervalId);\r\n\r\n            if (numberOfBlinks < 0) {\r\n                removeBorderElement();\r\n            } else {\r\n                borderElement.style.display = ((numberOfBlinks % 2) == 0) ? 'none' : 'block';\r\n                numberOfBlinks--;\r\n                intervalId = window.setInterval(blinkBorderElement, 1000, numberOfBlinks);\r\n            }\r\n        }\r\n\r\n        borderElement = createBorderElement();\r\n        blinkBorderElement(numberOfBlinks);\r\n    }\r\n}\r\n","import Components from './explore/components'\r\nimport Helper from './explore/helper'\r\n\r\nexport default class Facets {\r\n    constructor(components) {\r\n      return this._facets(components);\r\n    }\r\n    _facets(components) {\r\n        try {\r\n            if (components) {\r\n                let c = components.get('prm-facet-after');\r\n                if (c && c.length > 0) {\r\n                    let ctrl = c[0].ctrl;\r\n                    return ctrl.facetService.results;\r\n                }\r\n            }\r\n        } catch (e) {\r\n          console.log('trying to get facets through the rootScope');\r\n          try {\r\n              return Helper.userSessionManagerService().searchStateService.resultObject.facets;\r\n          } catch(e) {\r\n              console.error('unable to retrieve facets');\r\n          }\r\n        }\r\n\r\n        return [];\r\n    }\r\n}\r\n","import Components from './explore/components'\r\nimport Helper from './explore/helper'\r\n\r\nexport default class Records {\r\n    constructor(components) {\r\n      return this._items(components);\r\n    }\r\n    _items(components) {\r\n        try {\r\n            if (components) {\r\n                let c = components.get('prm-search-result-list-after');\r\n                if (c && c.length > 0) {\r\n                    let ctrl = c[0].ctrl();\r\n                    if (ctrl) {\r\n                        return ctrl.itemlist;\r\n                    }\r\n                    throw \"try again\";\r\n                }\r\n            }\r\n        } catch (e) {\r\n          console.log('trying to get records through the rootScope');\r\n          try {\r\n              return Helper.userSessionManagerService().searchStateService.resultObject.data;\r\n          } catch(e) {\r\n              console.error('unable to retrieve items');\r\n          }\r\n        }\r\n\r\n        return [];\r\n    }\r\n}\r\n","import Helper from './explore/helper'\r\n\r\nexport default class User {\r\n  constructor(user = _skelUser) {\r\n    let uSms = Helper.userSessionManagerService();\r\n    let jwtData = Helper.jwtData();\r\n    let self = this;\r\n\r\n    return {\r\n        id: jwtData.user || '',\r\n        email: user.details.email || '',\r\n        name: jwtData.userName || 'Guest',\r\n        display_name: uSms.getUserNameForDisplay(),\r\n        isLoggedIn: () => uSms.getUserName().length > 0,\r\n        isOnCampus: () => jwtData.onCampus == \"true\" ? true : false,\r\n        fines: user.fines,\r\n        loans: user.loans\r\n      };\r\n  }\r\n\r\n  get _skelUser() {\r\n    return {\r\n      details: {},\r\n      fines: {},\r\n      loans: {}\r\n    }\r\n  }\r\n}\r\n","import Helper from './explore/helper'\r\n\r\nexport default class View {\r\n    constructor() {\r\n      let uSms = Helper.userSessionManagerService();\r\n      let jwtData = Helper.jwtData();\r\n\r\n      return {\r\n        code: jwtData.viewId || window.appConfig['vid'],\r\n        institution: {\r\n            code: jwtData.viewInstitutionCode,\r\n            name: window.appConfig['primo-view']['attributes-map'].institution\r\n        },\r\n        interfaceLanguage: uSms.getUserLanguage() || window.appConfig['primo-view']['attributes-map'].interfaceLanguage,\r\n        ip: {\r\n          address: jwtData.ip\r\n        }\r\n      }\r\n    }\r\n}\r\n","(function() {\r\n  var CssSelectorGenerator, root,\r\n    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\r\n\r\n  CssSelectorGenerator = (function() {\r\n    CssSelectorGenerator.prototype.default_options = {\r\n      selectors: ['id', 'class', 'tag', 'nthchild']\r\n    };\r\n\r\n    function CssSelectorGenerator(options) {\r\n      if (options == null) {\r\n        options = {};\r\n      }\r\n      this.options = {};\r\n      this.setOptions(this.default_options);\r\n      this.setOptions(options);\r\n    }\r\n\r\n    CssSelectorGenerator.prototype.setOptions = function(options) {\r\n      var key, results, val;\r\n      if (options == null) {\r\n        options = {};\r\n      }\r\n      results = [];\r\n      for (key in options) {\r\n        val = options[key];\r\n        if (this.default_options.hasOwnProperty(key)) {\r\n          results.push(this.options[key] = val);\r\n        } else {\r\n          results.push(void 0);\r\n        }\r\n      }\r\n      return results;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.isElement = function(element) {\r\n      return !!((element != null ? element.nodeType : void 0) === 1);\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getParents = function(element) {\r\n      var current_element, result;\r\n      result = [];\r\n      if (this.isElement(element)) {\r\n        current_element = element;\r\n        while (this.isElement(current_element)) {\r\n          result.push(current_element);\r\n          current_element = current_element.parentNode;\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getTagSelector = function(element) {\r\n      return this.sanitizeItem(element.tagName.toLowerCase());\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.sanitizeItem = function(item) {\r\n      var characters;\r\n      characters = (item.split('')).map(function(character) {\r\n        if (character === ':') {\r\n          return \"\\\\\" + (':'.charCodeAt(0).toString(16).toUpperCase()) + \" \";\r\n        } else if (/[ !\"#$%&'()*+,.\\/;<=>?@\\[\\\\\\]^`{|}~]/.test(character)) {\r\n          return \"\\\\\" + character;\r\n        } else {\r\n          return escape(character).replace(/\\%/g, '\\\\');\r\n        }\r\n      });\r\n      return characters.join('');\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getIdSelector = function(element) {\r\n      var id, sanitized_id;\r\n      id = element.getAttribute('id');\r\n      if ((id != null) && (id !== '') && !(/\\s/.exec(id)) && !(/^\\d/.exec(id))) {\r\n        sanitized_id = \"#\" + (this.sanitizeItem(id));\r\n        if (element.ownerDocument.querySelectorAll(sanitized_id).length === 1) {\r\n          return sanitized_id;\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getClassSelectors = function(element) {\r\n      var class_string, item, result;\r\n      result = [];\r\n      class_string = element.getAttribute('class');\r\n      if (class_string != null) {\r\n        class_string = class_string.replace(/\\s+/g, ' ');\r\n        class_string = class_string.replace(/^\\s|\\s$/g, '');\r\n        if (class_string !== '') {\r\n          result = (function() {\r\n            var k, len, ref, results;\r\n            ref = class_string.split(/\\s+/);\r\n            results = [];\r\n            for (k = 0, len = ref.length; k < len; k++) {\r\n              item = ref[k];\r\n              results.push(\".\" + (this.sanitizeItem(item)));\r\n            }\r\n            return results;\r\n          }).call(this);\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getAttributeSelectors = function(element) {\r\n      var attribute, blacklist, k, len, ref, ref1, result;\r\n      result = [];\r\n      blacklist = ['id', 'class'];\r\n      ref = element.attributes;\r\n      for (k = 0, len = ref.length; k < len; k++) {\r\n        attribute = ref[k];\r\n        if (ref1 = attribute.nodeName, indexOf.call(blacklist, ref1) < 0) {\r\n          result.push(\"[\" + attribute.nodeName + \"=\" + attribute.nodeValue + \"]\");\r\n        }\r\n      }\r\n      return result;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getNthChildSelector = function(element) {\r\n      var counter, k, len, parent_element, sibling, siblings;\r\n      parent_element = element.parentNode;\r\n      if (parent_element != null) {\r\n        counter = 0;\r\n        siblings = parent_element.childNodes;\r\n        for (k = 0, len = siblings.length; k < len; k++) {\r\n          sibling = siblings[k];\r\n          if (this.isElement(sibling)) {\r\n            counter++;\r\n            if (sibling === element) {\r\n              return \":nth-child(\" + counter + \")\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.testSelector = function(element, selector) {\r\n      var is_unique, result;\r\n      is_unique = false;\r\n      if ((selector != null) && selector !== '') {\r\n        result = element.ownerDocument.querySelectorAll(selector);\r\n        if (result.length === 1 && result[0] === element) {\r\n          is_unique = true;\r\n        }\r\n      }\r\n      return is_unique;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getAllSelectors = function(element) {\r\n      var result;\r\n      result = {\r\n        t: null,\r\n        i: null,\r\n        c: null,\r\n        a: null,\r\n        n: null\r\n      };\r\n      if (indexOf.call(this.options.selectors, 'tag') >= 0) {\r\n        result.t = this.getTagSelector(element);\r\n      }\r\n      if (indexOf.call(this.options.selectors, 'id') >= 0) {\r\n        result.i = this.getIdSelector(element);\r\n      }\r\n      if (indexOf.call(this.options.selectors, 'class') >= 0) {\r\n        result.c = this.getClassSelectors(element);\r\n      }\r\n      if (indexOf.call(this.options.selectors, 'attribute') >= 0) {\r\n        result.a = this.getAttributeSelectors(element);\r\n      }\r\n      if (indexOf.call(this.options.selectors, 'nthchild') >= 0) {\r\n        result.n = this.getNthChildSelector(element);\r\n      }\r\n      return result;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.testUniqueness = function(element, selector) {\r\n      var found_elements, parent;\r\n      parent = element.parentNode;\r\n      found_elements = parent.querySelectorAll(selector);\r\n      return found_elements.length === 1 && found_elements[0] === element;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.testCombinations = function(element, items, tag) {\r\n      var item, k, l, len, len1, ref, ref1;\r\n      ref = this.getCombinations(items);\r\n      for (k = 0, len = ref.length; k < len; k++) {\r\n        item = ref[k];\r\n        if (this.testUniqueness(element, item)) {\r\n          return item;\r\n        }\r\n      }\r\n      if (tag != null) {\r\n        ref1 = items.map(function(item) {\r\n          return tag + item;\r\n        });\r\n        for (l = 0, len1 = ref1.length; l < len1; l++) {\r\n          item = ref1[l];\r\n          if (this.testUniqueness(element, item)) {\r\n            return item;\r\n          }\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getUniqueSelector = function(element) {\r\n      var found_selector, k, len, ref, selector_type, selectors;\r\n      selectors = this.getAllSelectors(element);\r\n      ref = this.options.selectors;\r\n      for (k = 0, len = ref.length; k < len; k++) {\r\n        selector_type = ref[k];\r\n        switch (selector_type) {\r\n          case 'id':\r\n            if (selectors.i != null) {\r\n              return selectors.i;\r\n            }\r\n            break;\r\n          case 'tag':\r\n            if (selectors.t != null) {\r\n              if (this.testUniqueness(element, selectors.t)) {\r\n                return selectors.t;\r\n              }\r\n            }\r\n            break;\r\n          case 'class':\r\n            if ((selectors.c != null) && selectors.c.length !== 0) {\r\n              found_selector = this.testCombinations(element, selectors.c, selectors.t);\r\n              if (found_selector) {\r\n                return found_selector;\r\n              }\r\n            }\r\n            break;\r\n          case 'attribute':\r\n            if ((selectors.a != null) && selectors.a.length !== 0) {\r\n              found_selector = this.testCombinations(element, selectors.a, selectors.t);\r\n              if (found_selector) {\r\n                return found_selector;\r\n              }\r\n            }\r\n            break;\r\n          case 'nthchild':\r\n            if (selectors.n != null) {\r\n              return selectors.n;\r\n            }\r\n        }\r\n      }\r\n      return '*';\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getSelector = function(element) {\r\n      var all_selectors, item, k, l, len, len1, parents, result, selector, selectors;\r\n      all_selectors = [];\r\n      parents = this.getParents(element);\r\n      for (k = 0, len = parents.length; k < len; k++) {\r\n        item = parents[k];\r\n        selector = this.getUniqueSelector(item);\r\n        if (selector != null) {\r\n          all_selectors.push(selector);\r\n        }\r\n      }\r\n      selectors = [];\r\n      for (l = 0, len1 = all_selectors.length; l < len1; l++) {\r\n        item = all_selectors[l];\r\n        selectors.unshift(item);\r\n        result = selectors.join(' > ');\r\n        if (this.testSelector(element, result)) {\r\n          return result;\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    CssSelectorGenerator.prototype.getCombinations = function(items) {\r\n      var i, j, k, l, ref, ref1, result;\r\n      if (items == null) {\r\n        items = [];\r\n      }\r\n      result = [[]];\r\n      for (i = k = 0, ref = items.length - 1; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {\r\n        for (j = l = 0, ref1 = result.length - 1; 0 <= ref1 ? l <= ref1 : l >= ref1; j = 0 <= ref1 ? ++l : --l) {\r\n          result.push(result[j].concat(items[i]));\r\n        }\r\n      }\r\n      result.shift();\r\n      result = result.sort(function(a, b) {\r\n        return a.length - b.length;\r\n      });\r\n      result = result.map(function(item) {\r\n        return item.join('');\r\n      });\r\n      return result;\r\n    };\r\n\r\n    return CssSelectorGenerator;\r\n\r\n  })();\r\n\r\n  if (typeof define !== \"undefined\" && define !== null ? define.amd : void 0) {\r\n    define([], function() {\r\n      return CssSelectorGenerator;\r\n    });\r\n  } else {\r\n    root = typeof exports !== \"undefined\" && exports !== null ? exports : this;\r\n    root.CssSelectorGenerator = CssSelectorGenerator;\r\n  }\r\n\r\n}).call(this);\r\n","/*\r\n  Replace templates.\r\n\r\n  Replace the default primo templates http://localhost:8003/primo-explore/lib/templates.js\r\n  with custom templates\r\n\r\n  KULeuven/LIBIS (c) 2018\r\n  Tom Vanmechelen\r\n*/\r\nimport './utils'\r\n\r\n/* import your templates */\r\nimport prmSearchResultAvailabilityLineHTML from '../html/templates/prm-search-result-availability-line.html'\r\n\r\nexport default class Templates {\r\n    static get all() {\r\n        /*\r\n          id = templateId in the templateCache\r\n          template = the imported tempalte\r\n          enabled = true/false should the component be created\r\n          enableInView = regex to define in which views the template has to be replaced.\r\n\r\n          ex. {id: 'components/search/topbar/userArea/user-area.html', template: userAreaHTML, enabled: true, enableInView: '.*'}\r\n          results in:\r\n            $templateCache.put('components/search/topbar/userArea/user-area.html',userAreaHTML);\r\n        */\r\n        return [      \r\n            {\r\n                id: 'components/search/searchResult/searchResultAvailability/searchResultAvailabilityLine.html',\r\n                template: prmSearchResultAvailabilityLineHTML,\r\n                enabled: true,\r\n                enableInView: 'REGIONAL'\r\n            }\r\n        ].filter((template) => (template.enabled && new RegExp(template.enableInView).test(window.appConfig.vid)));\r\n    }\r\n}\r\n","/*\r\n  General\r\n\r\n  KULeuven/LIBIS (c) 2017\r\n  Mehmet Celik\r\n*/\r\nString.prototype.toCamelCase = function () {\r\n  return this.split('-').map((d, i, a) => i > 0 ? d.charAt(0).toUpperCase() + d.slice(1) : d).join('');\r\n}\r\n\r\n/*\r\nangular.module('googleAnalytics', []);\r\nangular.module('googleAnalytics').run(function ($rootScope, $interval, analyticsOptions) {\r\n\tif(analyticsOptions.hasOwnProperty(\"enabled\") && analyticsOptions.enabled) {\r\n\t\tif(analyticsOptions.hasOwnProperty(\"siteId\") && analyticsOptions.siteId != '') {\r\n\t\t\t\r\n            (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\r\n            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\r\n            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\r\n            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\r\n            })(window,document,'script','dataLayer',analyticsOptions.siteId);\r\n        }\r\n\r\n        const inlineScriptTag = document.createElement('noscript');\r\n        inlineScriptTag.type = 'text/javascript';\r\n\r\n        const inlineCode = '<noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-WR259MX\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>';\r\n\r\n        // Methods of adding inner text sometimes don't work across browsers.\r\n        try {\r\n          inlineScriptTag.appendChild(document.createTextNode(inlineCode));\r\n        } catch (e) {\r\n          inlineScriptTag.text = inlineCode;\r\n        }\r\n\r\n        document.querySelector('body').appendChild(inlineScriptTag);\t\t\r\n\t}\r\n});\r\nangular.module('googleAnalytics').value('analyticsOptions', {\r\n\tenabled: false,\r\n\tsiteId: '',\r\n\tdefaultTitle: ''\r\n});\r\n*/\r\n\r\n//intercept api calls for database search and change to KUL (only regional views)\r\n  /*\r\nvar reg_views = [\"KULeuven_TMOREM\", \"KULeuven_TMOREK\", \"KULeuven_UCLL\", \"KULeuven_LUCA\", \"KULeuven_ODISEE\"];\r\nif (reg_views.includes(window.appConfig.vid)) {\r\n  let app = angular.module('viewCustom', [])\r\n    .factory('httpCallInterceptor', [() => {\r\n      var httpCallInterceptor = {\r\n        request: function(config){\r\n          if (config.url.includes('pnxs') && !config.url.includes('delivery') && config.params) {\r\n            //console.log(config);\r\n\r\n            if(config.params.databases){\r\n              config.params.inst = 'KUL';\r\n              config.params.vid = 'KULeuven';\r\n            }\r\n\r\n            return config;\r\n          }\r\n          return config;\r\n        }\r\n      }\r\n      return httpCallInterceptor;\r\n    }])\r\n    .config(['$httpProvider', ($httpProvider) => {\r\n      $httpProvider.interceptors.push('httpCallInterceptor');\r\n    }]);\r\n}\r\n*/\r\n/*\r\nangular.element.prototype.closestClass = function (className) {\r\n  return (function closest(element, className) {\r\n    if (element[0].nodeName === 'HTML') {\r\n      return null;\r\n    } else if (element.hasClass(className)) {\r\n      return element;\r\n    } else {\r\n      return closest(element.parent(), className);\r\n    }\r\n  })(this, className);\r\n};\r\n\r\nangular.element.prototype.closestNode = function (nodeName) {\r\n  return (function closest(element, nodeName) {\r\n    if (element[0].nodeName === 'HTML') {\r\n      return null;\r\n    } else if (element[0].nodeName == nodeName.toUpperCase()) {\r\n      return element;\r\n    } else {\r\n      return closest(element.parent(), nodeName);\r\n    }\r\n  })(this, nodeName);\r\n};\r\n*/\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJwcmltby1leHBsb3JlL2N1c3RvbS8zMktVTF9LVUwtUkVHSU9OQUwvanMvY29tcG9uZW50cy5qcyIsInByaW1vLWV4cGxvcmUvY3VzdG9tLzMyS1VMX0tVTC1SRUdJT05BTC9qcy9jb21wb25lbnRzL3BybUFsbWFPdGhlck1lbWJlcnNBZnRlci9yZWdWaWV3T3RoZXJNZW1iZXJzLmpzIiwicHJpbW8tZXhwbG9yZS9jdXN0b20vMzJLVUxfS1VMLVJFR0lPTkFML2pzL2NvbXBvbmVudHMvcHJtRnVsbFZpZXdBZnRlci9mdWxsVmlld1NlY3Rpb25PcmRlcmluZy5qcyIsInByaW1vLWV4cGxvcmUvY3VzdG9tLzMyS1VMX0tVTC1SRUdJT05BTC9qcy9jb21wb25lbnRzL3BybVNlYXJjaFJlc3VsdEF2YWlsYWJpbGl0eUxpbmVBZnRlci9yZWdWaWV3QXZhaWxhYmlsaXR5TGluZS5qcyIsInByaW1vLWV4cGxvcmUvY3VzdG9tLzMyS1VMX0tVTC1SRUdJT05BTC9qcy9tYWluLmpzIiwicHJpbW8tZXhwbG9yZS9jdXN0b20vMzJLVUxfS1VMLVJFR0lPTkFML2pzL3ByaW1vLWV4cGxvcmUtZG9tL2pzL3ByaW1vLmpzIiwicHJpbW8tZXhwbG9yZS9jdXN0b20vMzJLVUxfS1VMLVJFR0lPTkFML2pzL3ByaW1vLWV4cGxvcmUtZG9tL2pzL3ByaW1vL2V4cGxvcmUuanMiLCJwcmltby1leHBsb3JlL2N1c3RvbS8zMktVTF9LVUwtUkVHSU9OQUwvanMvcHJpbW8tZXhwbG9yZS1kb20vanMvcHJpbW8vZXhwbG9yZS9jb21wb25lbnRzLmpzIiwicHJpbW8tZXhwbG9yZS9jdXN0b20vMzJLVUxfS1VMLVJFR0lPTkFML2pzL3ByaW1vLWV4cGxvcmUtZG9tL2pzL3ByaW1vL2V4cGxvcmUvaGVscGVyLmpzIiwicHJpbW8tZXhwbG9yZS9jdXN0b20vMzJLVUxfS1VMLVJFR0lPTkFML2pzL3ByaW1vLWV4cGxvcmUtZG9tL2pzL3ByaW1vL2ZhY2V0cy5qcyIsInByaW1vLWV4cGxvcmUvY3VzdG9tLzMyS1VMX0tVTC1SRUdJT05BTC9qcy9wcmltby1leHBsb3JlLWRvbS9qcy9wcmltby9yZWNvcmRzLmpzIiwicHJpbW8tZXhwbG9yZS9jdXN0b20vMzJLVUxfS1VMLVJFR0lPTkFML2pzL3ByaW1vLWV4cGxvcmUtZG9tL2pzL3ByaW1vL3VzZXIuanMiLCJwcmltby1leHBsb3JlL2N1c3RvbS8zMktVTF9LVUwtUkVHSU9OQUwvanMvcHJpbW8tZXhwbG9yZS1kb20vanMvcHJpbW8vdmlldy5qcyIsInByaW1vLWV4cGxvcmUvY3VzdG9tLzMyS1VMX0tVTC1SRUdJT05BTC9qcy9wcmltby1leHBsb3JlLWRvbS9qcy92ZW5kb3IvY3NzLXNlbGVjdG9yLWdlbmVyYXRvci5qcyIsInByaW1vLWV4cGxvcmUvY3VzdG9tLzMyS1VMX0tVTC1SRUdJT05BTC9qcy90ZW1wbGF0ZXMuanMiLCJwcmltby1leHBsb3JlL2N1c3RvbS8zMktVTF9LVUwtUkVHSU9OQUwvanMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7cWpCQ0FBOzs7Ozs7Ozs7O0FBVUE7OztBQURBOztBQUVBOztBQUNBOztBQUNBOzs7O0lBRXFCLGU7Ozs7Ozs7d0JBRUY7QUFDZjs7Ozs7Ozs7Ozs7QUFZQSxhQUFPO0FBQ0w7Ozs7QUFJQSxRQUFDLE1BQU0sb0JBQVAsRUFBNkIsUUFBUSw4Q0FBckMsRUFBZ0UsU0FBUyxJQUF6RSxFQUErRSxVQUFVLDhCQUF6RixFQUF5SCxjQUFjLElBQXZJLEVBTEssRUFNTCxFQUFDLE1BQU0seUJBQVAsRUFBa0MsUUFBUSxzREFBMUMsRUFBeUUsU0FBUyxJQUFsRixFQUF3RixVQUFVLDJDQUFsRyxFQUErSSxjQUFjLElBQTdKLEVBTkssRUFPTCxFQUFDLE1BQU0sa0NBQVAsRUFBMkMsUUFBUSxzREFBbkQsRUFBa0YsU0FBUyxJQUEzRixFQUFpRyxVQUFVLHFCQUEzRyxFQUFrSSxjQUFjLElBQWhKLEVB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QW1DQTtBQUNFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMkJGIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLypcclxuICBEZWNsYXJlIHlvdXIgY29tcG9uZW50cyBoZXJlLlxyXG5cclxuICBSZXdyaXRlIHRoaXMgd2hlbiBpbXBvcnRzIGNhbiBiZSBkb25lIGR5bmFtaWNhbGx5XHJcbiAgaHR0cDovLzJhbGl0eS5jb20vMjAxNy8wMS9pbXBvcnQtb3BlcmF0b3IuaHRtbFxyXG5cclxuICBLVUxldXZlbi9MSUJJUyAoYykgMjAxN1xyXG4gIE1laG1ldCBDZWxpa1xyXG4qL1xyXG5pbXBvcnQgJy4vdXRpbHMnO1xyXG4vKiBpbXBvcnQgeW91ciBjb21wb25lbnQgY29uZmlndXJhdGlvbiovXHJcbmltcG9ydCB7cmVnVmlld090aGVyTWVtYmVyc0NvbmZpZ30gZnJvbSAnLi9jb21wb25lbnRzL3BybUFsbWFPdGhlck1lbWJlcnNBZnRlci9yZWdWaWV3T3RoZXJNZW1iZXJzJ1xyXG5pbXBvcnQge3JlZ1ZpZXdBdmFpbGFiaWxpdHlMaW5lQ29uZmlnfSBmcm9tICcuL2NvbXBvbmVudHMvcHJtU2VhcmNoUmVzdWx0QXZhaWxhYmlsaXR5TGluZUFmdGVyL3JlZ1ZpZXdBdmFpbGFiaWxpdHlMaW5lJ1xyXG5pbXBvcnQge2Z1bGxWaWV3U2VjdGlvbk9yZGVyaW5nQ29uZmlnfSBmcm9tICcuL2NvbXBvbmVudHMvcHJtRnVsbFZpZXdBZnRlci9mdWxsVmlld1NlY3Rpb25PcmRlcmluZydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFmdGVyQ29tcG9uZW50cyB7XHJcblxyXG4gIHN0YXRpYyBnZXQgYWxsKCkge1xyXG4gICAgLypcclxuICAgICAgbmFtZSA9IHRoZSBzdWIgZWxlbWVudCBpbiB0aGUgYWZ0ZXIgZWxlbWVudFxyXG4gICAgICBjb25maWcgPSB0aGUgaW1wb3J0ZWQgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAgZW5hYmxlZCA9IHRydWUvZmFsc2Ugc2hvdWxkIHRoZSBjb21wb25lbnQgYmUgY3JlYXRlZFxyXG4gICAgICBhcHBlbmRUbyA9IFRoZSBjb21wb25lbnQgc2hvdWxkIGJlIGNyZWF0ZWQgaW4gdGhpcyBhZnRlciBjb21wb25lbnQuXHJcblxyXG4gICAgICBleC4ge25hbWU6ICdob21lLWljb24nLCBjb25maWc6IGhvbWVJY29uQ29uZmlnLCBlbmFibGVkOiB0cnVlLCBhcHBlbmRUbzogJ3BybS1sb2dvLWFmdGVyJ31cclxuICAgICAgcmVzdWx0cyBpbjpcclxuICAgICAgICA8cHJtLWxvZ28tYWZ0ZXIgcGFyZW50Q3RybD0nJGN0cmwnPlxyXG4gICAgICAgICAgPGhvbWUtaWNvbiBwYXJlbnRDdHJsPSckY3RybCc+PC9ob21lLWljb24+XHJcbiAgICAgICAgPC9wcm0tbG9nby1hZnRlcj5cclxuICAgICovXHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAvKlxyXG4gICAgICB7bmFtZTogJ2xpYmlzLWV4cGVyaW1lbnQnLCBjb25maWc6IGV4cGVyaW1lbnRDb25maWcsIGVuYWJsZWQ6IGZhbHNlLCBhcHBlbmRUbzogJ3BybS1tZXNzYWdlcy1hbmQtYmxvY2tzLW92ZXJ2aWV3LWFmdGVyJywgZW5hYmxlSW5WaWV3OiAnLionfSxcclxuICAgICAge25hbWU6ICdsaWJpcy1yZW1vdmUtdXNlci1hcmVhJywgY29uZmlnOiByZW1vdmVVc2VyQXJlYUNvbmZpZywgZW5hYmxlZDogZmFsc2UsIGFwcGVuZFRvOiAncHJtLXVzZXItYXJlYS1leHBhbmRhYmxlLWFmdGVyJywgZW5hYmxlSW5WaWV3OiAnLionfSwgICAgICBcclxuICAgICAgKi9cclxuICAgICAge25hbWU6ICdsaWJpcy1vbmx5LW1lbWJlcnMnLCBjb25maWc6IHJlZ1ZpZXdPdGhlck1lbWJlcnNDb25maWcsIGVuYWJsZWQ6IHRydWUsIGFwcGVuZFRvOiAncHJtLWFsbWEtb3RoZXItbWVtYmVycy1hZnRlcicsIGVuYWJsZUluVmlldzogJy4qJ30sXHJcbiAgICAgIHtuYW1lOiAnbGliaXMtYXZhaWxhYmlsaXR5LWxpbmUnLCBjb25maWc6IHJlZ1ZpZXdBdmFpbGFiaWxpdHlMaW5lQ29uZmlnLCBlbmFibGVkOiB0cnVlLCBhcHBlbmRUbzogJ3BybS1zZWFyY2gtcmVzdWx0LWF2YWlsYWJpbGl0eS1saW5lLWFmdGVyJywgZW5hYmxlSW5WaWV3OiAnLionfSxcclxuICAgICAge25hbWU6ICdsaWJpcy1mdWxsLXZpZXctc2VjdGlvbi1vcmRlcmluZycsIGNvbmZpZzogZnVsbFZpZXdTZWN0aW9uT3JkZXJpbmdDb25maWcsIGVuYWJsZWQ6IHRydWUsIGFwcGVuZFRvOiAncHJtLWZ1bGwtdmlldy1hZnRlcicsIGVuYWJsZUluVmlldzogJy4qJ30sXHJcblxyXG4gICAgXS5maWx0ZXIoIChjb21wb25lbnQpID0+ICggY29tcG9uZW50LmVuYWJsZWQgJiYgbmV3IFJlZ0V4cChjb21wb25lbnQuZW5hYmxlSW5WaWV3KS50ZXN0KHdpbmRvdy5hcHBDb25maWcudmlkKSApICk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIHJlZ1ZpZXdPdGhlck1lbWJlcnNDb250cm9sbGVyIHtcclxuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRlbGVtZW50LCAkY29tcGlsZSwgJGh0dHAsICRyb290U2NvcGUpIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgc2VsZi4kcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgIHNlbGYuJGVsZW1lbnQgPSAkZWxlbWVudDtcclxuLypcclxuICAgIGNvbnNvbGUubG9nKCAgJHJvb3RTY29wZSApXHJcbiAgICBjb25zb2xlLmxvZyggc2VsZiApXHJcbiAgICBjb25zb2xlLmxvZyggIHNlbGYucGFyZW50Q3RybC5wYXJlbnRDdHJsIClcclxuKi9cclxuICAgIGxldCBpdGVtRGVsaXZlcnkgPSBzZWxmLnBhcmVudEN0cmwucGFyZW50Q3RybC4kc2NvcGUuJHBhcmVudC4kcGFyZW50LiRwYXJlbnQuJGN0cmwuaXRlbS5kZWxpdmVyeTtcclxuXHJcbi8qXHJcbkFsbGVlbiBpbiBlaWdlbiBpbnN0ZWxsaW5nXHJcbmh0dHA6Ly9sb2NhbGhvc3Q6ODAwMy9kaXNjb3ZlcnkvZnVsbGRpc3BsYXk/ZG9jaWQ9YWxtYTk5MjU2NDExOTAxMDE0ODgmY29udGV4dD1MJnZpZD0zMktVTF9LVUw6TElCSVNORVQyX1VOSU9OJmxhbmc9ZW4mc2VhcmNoX3Njb3BlPUROX2FuZF9DSV9VQ1YmYWRhcHRvcj1Mb2NhbCUyMFNlYXJjaCUyMEVuZ2luZSZpc0ZyYnI9dHJ1ZSZ0YWI9RGlzY292ZXJ5TmV0d29ya19VQ1YmcXVlcnk9YW55LGNvbnRhaW5zLHdvb2Qmc29ydGJ5PWRhdGVfZCZmYWNldD1mcmJyZ3JvdXBpZCxpbmNsdWRlLDkwMDkwNzU3NTIyODIwNTI1NDcmb2Zmc2V0PTBcclxuaHR0cDovL2xvY2FsaG9zdDo4MDAzL2Rpc2NvdmVyeS9mdWxsZGlzcGxheT9kb2NpZD1hbG1hOTk5MjQyOTI4OTcwMTQ4OCZjb250ZXh0PUwmdmlkPTMyS1VMX0tVTDpMSUJJU05FVDJfVU5JT04mbGFuZz1lbiZzZWFyY2hfc2NvcGU9RE5fYW5kX0NJX1VDViZhZGFwdG9yPUxvY2FsJTIwU2VhcmNoJTIwRW5naW5lJnRhYj1EaXNjb3ZlcnlOZXR3b3JrX1VDViZxdWVyeT1hbnksY29udGFpbnMsd29vZCZvZmZzZXQ9MFxyXG49PT09PiBEYW4gaXMgZXIgb29rIGdlZW4gcHJtLWFsbWEtb3RoZXItbWVtYmVycy1hZnRlciBlbGVtZW50ICEhIVxyXG49PT09PiBEZXplIGNvbnRyb2xlciB6YWwgZGFuIG5pZXQgd29yZGVuIHVpdGdldm9lcmQuXHJcblxyXG49PiBGUkJSIFxyXG5odHRwczovL2xpYmlzLW5ldHdvcmsucHJpbW8uZXhsaWJyaXNncm91cC5jb20vcHJpbWF3cy9yZXN0L3ByaXYvbnovcG54L1AvOTkzMDA3MDAwMDEwMTQ3MT9yZWNvcmQtaW5zdGl0dXRpb249MzJLVUxfS1VMJmxhbmc9ZW5cclxuaHR0cDovL2xvY2FsaG9zdDo4MDAzL3ByaW1hd3MvcmVzdC9wcml2L256L3BueC9QLzk5MzAwNzAwMDAxMDE0ODg/cmVjb3JkLWluc3RpdHV0aW9uPTMyS1VMX0tVTCZsYW5nPWVuXHJcblxyXG5cclxuXHJcblxyXG5OaWV0IGluIGVpZ2VuIGluc3RlbGxpbmdcclxuaHR0cDovL2xvY2FsaG9zdDo4MDAzL2Rpc2NvdmVyeS9zZWFyY2g/cXVlcnk9YW55LGNvbnRhaW5zLDk5OTIxNzA3OTQ1MDE1MDImdGFiPURpc2NvdmVyeU5ldHdvcmtfVUNWJnNlYXJjaF9zY29wZT1ETl9hbmRfQ0lfVUNWJnZpZD0zMktVTF9LVUw6TElCSVNORVQyX1VOSU9OXHJcblxyXG4qL1xyXG5cclxuICAgIGlmICggaXRlbURlbGl2ZXJ5LnNlcnZpY2VNb2RlLmluY2x1ZGVzKFwib3ZwXCIpICl7XHJcbiAgICAgIHNlbGYucmVtb3ZlUHJtT3BhYygpO1xyXG4gICAgICBzZWxmLmFkZEluc3RUb0FsbWFJbnN0aXR1dGlvbnNMaXN0KCk7XHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyAoIHNlbGYucGFyZW50Q3RybC5wYXJlbnRDdHJsLmFsbWFJbnN0aXR1dGlvbnNMaXN0IClcclxuICAgIHNlbGYucGFyZW50Q3RybC5wYXJlbnRDdHJsLmFsbWFJbnN0aXR1dGlvbnNMaXN0LnNvcnQoKGEsIGIpID0+IChhLmluc3ROYW1lID4gYi5pbnN0TmFtZSkgPyAxIDogLTEpO1xyXG4gIH1cclxuXHJcbiAgYWRkSW5zdFRvQWxtYUluc3RpdHV0aW9uc0xpc3QoKSB7XHJcbiAgICB0aGlzLnBhcmVudEN0cmwucGFyZW50Q3RybC5hbG1hSW5zdGl0dXRpb25zTGlzdC5wdXNoKFxyXG4gICAgICB7XHJcbiAgICAgICAgXCJnZXRpdExpbmtcIjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImRpc3BsYXlUZXh0XCI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBcImxpbmtSZWNvcmRJZFwiOiB0aGlzLnBhcmVudEN0cmwucGFyZW50Q3RybC5hbG1hSW5zdGl0dXRpb25zTGlzdFswXS5nZXRpdExpbmtbMF0ubGlua1JlY29yZElkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdLFxyXG4gICAgICAgIFxyXG4gICAgICAgIFwiaW5zdENvZGVcIjogd2luZG93LmFwcENvbmZpZ1tcInByaW1vLXZpZXdcIl0uaW5zdGl0dXRpb25bXCJpbnN0aXR1dGlvbi1jb2RlXCJdLFxyXG4gICAgICAgIFwiaW5zdE5hbWVcIjogIHdpbmRvdy5hcHBDb25maWdbXCJwcmltby12aWV3XCJdLmluc3RpdHV0aW9uW1wiaW5zdGl0dXRpb24tbmFtZVwiXSxcclxuICAgICAgICBcImluc3RJZFwiOiB3aW5kb3cuYXBwQ29uZmlnW1wicHJpbW8tdmlld1wiXS5pbnN0aXR1dGlvbi5pZCxcclxuICAgICAgICBcImF2YWlsYWJpbGl0eVN0YXR1c1wiOiBcImF2YWlsYWJsZV9pbl9pbnN0aXR1dGlvblwiLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlUHJtT3BhYygpe1xyXG4gICAgbGV0IHVuYmluZFdhdGNoZXIgPSB0aGlzLiRzY29wZS4kd2F0Y2goKCkgPT5cclxuICAgICAgdGhpcy4kZWxlbWVudC5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5maW5kKCdwcm0tb3BhYycpLFxyXG4gICAgICAobmV3VmFsLCBvbGRWYWwpID0+IHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nICh0aGlzKTtcclxuICAgICAgICBpZiAobmV3VmFsKSB7XHJcbiAgICAgICAgICBuZXdWYWwuZmluZCgnbWQtdGFicycpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgdW5iaW5kV2F0Y2hlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgXHJcbi8qXHJcbiAgICBQcm9taXNlLnJlc29sdmUoIHRoaXMuJHNjb3BlLiRwYXJlbnQuJHBhcmVudC4kcGFyZW50LiRwYXJlbnQuJHBhcmVudC4kY3RybC5mdWxsVmlld1NlcnZpY2UuZ2V0U2VydmljZXMoIHRoaXMucGFyZW50Q3RybC5pdGVtLCB0aGlzLnBhcmVudEN0cmwub3JpZ2luYXRvcikgKS50aGVuKFxyXG4gICAgICBmdW5jdGlvbihzZXJ2aWNlcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nIChzZXJ2aWNlcylcclxuICAgICAgICAvLyBBZGQgdG8gc2VydmljZXMgaWYgbm90IGFscmVhZCBpbiB0aGUgbGlzdFxyXG4gICAgICAgIC8vaWYgKCBzZXJ2aWNlcy5maW5kSW5kZXgoc2VydmljZSA9PiBzZXJ2aWNlLnNjcm9sbElkID09PSBcImFsdG1ldHJpY3NcIikgPCAwICl7XHJcbiAgICAgICAgICBzZXJ2aWNlcy5zcGxpY2Uoc2VydmljZXMubGVuZ3RoIC0yLCAwLCBzZWN0aW9uRGF0YSk7XHJcbiAgICAgICAgLy99XHJcbiAgICB9KVxyXG4qL1xyXG4vKlxyXG5cclxuICAgIHZhciBwcm1PcGFjRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNnZXRpdF9saW5rMV8wID4gZGl2ID4gcHJtLWZ1bGwtdmlldy1zZXJ2aWNlLWNvbnRhaW5lciA+IGRpdi5zZWN0aW9uLWJvZHkgPiBkaXYgPiBwcm0tb3BhYycpXHJcbiAgICB2YXIgcHJtT3BhY01kVGFic0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjZ2V0aXRfbGluazFfMCA+IGRpdiA+IHBybS1mdWxsLXZpZXctc2VydmljZS1jb250YWluZXIgPiBkaXYuc2VjdGlvbi1ib2R5ID4gZGl2ID4gcHJtLW9wYWMgPiBtZC10YWJzJylcclxuICAgIGNvbnNvbGUubG9nIChwcm1PcGFjRWxlbWVudClcclxuICAgIGNvbnNvbGUubG9nIChwcm1PcGFjTWRUYWJzRWxlbWVudClcclxuICAgIGlmICggcHJtT3BhY0VsZW1lbnQgKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nIChcInJlbW92ZXIgcHJtT3BhY0VsZW1lbnRcIilcclxuICAgICAgcHJtT3BhY0VsZW1lbnRbMF0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcclxuICAgIH1cclxuKi9cclxuXHJcbiAgfVxyXG59XHJcblxyXG5yZWdWaWV3T3RoZXJNZW1iZXJzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGNvbXBpbGUnLCAnJGh0dHAnLCAnJHJvb3RTY29wZSddO1xyXG5cclxuZXhwb3J0IGxldCByZWdWaWV3T3RoZXJNZW1iZXJzQ29uZmlnID0ge1xyXG4gIGJpbmRpbmdzOiB7cGFyZW50Q3RybDogJzwnfSxcclxuICBjb250cm9sbGVyOiByZWdWaWV3T3RoZXJNZW1iZXJzQ29udHJvbGxlcixcclxuICB0ZW1wbGF0ZTogJydcclxufVxyXG4iLCJjbGFzcyBmdWxsVmlld1NlY3Rpb25PcmRlcmluZ0NvbnRyb2xsZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCRzY29wZSkge1xyXG4gICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICAgIHRoaXMuc2VjdGlvbk9yZGVyTmFtZUxpc3QgPSBbXCJob3dvdnBcIiwgXCJvdnBcIiwgXCJsaW5rc1wiLCBcImRldGFpbHNcIiwgXCJob3dvdnBcIiwgXCJvdnBcIiwgXCJjaXRhdGlvblRyYWlsc1wiLFwidmlydHVhbEJyb3dzZVwiLCBcImFjdGlvbl9saXN0XCJdXHJcbiAgICB9XHJcbiAgICAkb25Jbml0KCkge1xyXG4gICAgICAgIHRoaXMuc2VjdGlvbk9yZGVyTmFtZUxpc3QudW5zaGlmdChcImJyaWVmXCIpOyBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLiRzY29wZS4kd2F0Y2goJ3RoaXMuJGN0cmwucGFyZW50Q3RybC5wYXJlbnRDdHJsLnNlcnZpY2VzJywgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUsIHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiBPbmx5IHRoYWtlIHRoZSBhdmFpbGFibGUgc2VydmljZXMgZnJvbSBzZWN0aW9uT3JkZXJOYW1lTGlzdCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIHNlbGVjdCB0aGUgc2VydmljZXMgdGhhdCBhcmUgbm90IGxpc3RlZCBpbiBzZWN0aW9uT3JkZXJOYW1lTGlzdCBmcm9tIHRoZSBhdmFpbGFibGUgc2VydmljZXMgKi9cclxuICAgICAgICAgICAgICAgICAgICAvKiBhcHBlbmQgdGhlbSB0byBzZWN0aW9uT3JkZXJOYW1lTGlzdCAodGhleSB3aWxsIGJlIGRpc3BsYXllcyBhdCB0aGUgYm90dG9tKSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWN0aW9uc1NlcnZpY2VOYW1lTGlzdCA9IHNjb3BlLiRjdHJsLnBhcmVudEN0cmwucGFyZW50Q3RybC5zZXJ2aWNlcy5tYXAoIHMgPT4gIHMuc2VydmljZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWN0aW9uc1NlcnZpY2VJbmNsdWRlZE5hbWVMaXN0ID0gc2VjdGlvbnNTZXJ2aWNlTmFtZUxpc3QuZmlsdGVyKHNlY3Rpb24gPT4gc2NvcGUuJGN0cmwuc2VjdGlvbk9yZGVyTmFtZUxpc3QuaW5jbHVkZXMoc2VjdGlvbikpXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlY3Rpb25zU2VydmljZUV4Y2x1ZGVkTmFtZUxpc3QgPSBzZWN0aW9uc1NlcnZpY2VOYW1lTGlzdC5maWx0ZXIoc2VjdGlvbiA9PiAhIHNjb3BlLiRjdHJsLnNlY3Rpb25PcmRlck5hbWVMaXN0LmluY2x1ZGVzKHNlY3Rpb24pKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWN0aW9uT3JkZXJOYW1lTGlzdCA9IHNjb3BlLiRjdHJsLnNlY3Rpb25PcmRlck5hbWVMaXN0LmZpbHRlcihzZWN0aW9uID0+IHNlY3Rpb25zU2VydmljZUluY2x1ZGVkTmFtZUxpc3QuaW5jbHVkZXMoc2VjdGlvbikpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbk9yZGVyTmFtZUxpc3QgPSBzZWN0aW9uT3JkZXJOYW1lTGlzdC5jb25jYXQgKCBzZWN0aW9uc1NlcnZpY2VFeGNsdWRlZE5hbWVMaXN0IClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICYmIEpTT04uc3RyaW5naWZ5KHNlY3Rpb25zU2VydmljZU5hbWVMaXN0KSAhPT0gSlNPTi5zdHJpbmdpZnkoc2VjdGlvbk9yZGVyTmFtZUxpc3QpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRjdHJsLm9yZGVyaW5nU2VjdGlvbnMoc2NvcGUuJGN0cmwucGFyZW50Q3RybC5wYXJlbnRDdHJsLnNlcnZpY2VzLCBzZWN0aW9uT3JkZXJOYW1lTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiZnVsbFZpZXdTZWN0aW9uT3JkZXJpbmdDb250cm9sbGVyIGNvbnN0cnVjdG9yXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIG9yZGVyaW5nU2VjdGlvbnMoc2VjdGlvbnMsIHNlY3Rpb25PcmRlck5hbWVMaXN0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gYnJpZWYgaXMgYWx3YXlzIHRoZSBmaXJzdCBzZWN0aW9uXHJcbiAgICAgICAgICAgIGxldCBPcmRlcmVkU2VjdGlvbnMgPSBzZWN0aW9uc1xyXG4gICAgICAgICAgICBPcmRlcmVkU2VjdGlvbnMgPSBPcmRlcmVkU2VjdGlvbnMubWFwKCAocykgPT4gIHtzLm9yZGVyID0gc2VjdGlvbk9yZGVyTmFtZUxpc3QuaW5kZXhPZihzLnNlcnZpY2VOYW1lKTsgcmV0dXJuIHM7fSApXHJcbiAgICAgICAgICAgIE9yZGVyZWRTZWN0aW9ucyA9IE9yZGVyZWRTZWN0aW9ucy5zb3J0KChhLCBiKSA9PiBhLm9yZGVyIC0gYi5vcmRlcik7XHJcbiAgICAgICAgICAgIE9yZGVyZWRTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uLCBpbmRleCkgPT4geyBcclxuICAgICAgICAgICAgLy8gICAgdGhpcy5wYXJlbnRDdHJsLnBhcmVudEN0cmwuc2VydmljZXNbaW5kZXhdID0gc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgc2VjdGlvbnNbaW5kZXhdID0gc2VjdGlvblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImZ1bGxWaWV3U2VjdGlvbk9yZGVyaW5nQ29udHJvbGxlciBvcmRlcmluZ1NlY3Rpb25zXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVsbFZpZXdTZWN0aW9uT3JkZXJpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZSddO1xyXG5cclxuZXhwb3J0IGxldCBmdWxsVmlld1NlY3Rpb25PcmRlcmluZ0NvbmZpZyA9IHtcclxuICAgIGJpbmRpbmdzOiB7cGFyZW50Q3RybDogJzwnfSxcclxuICAgIGNvbnRyb2xsZXI6IGZ1bGxWaWV3U2VjdGlvbk9yZGVyaW5nQ29udHJvbGxlcixcclxuICAgIHRlbXBsYXRlOiAnJ1xyXG59XHJcbiIsIiAgXHJcblxyXG5cclxuICBjbGFzcyByZWdWaWV3QXZhaWxhYmlsaXR5TGluZUNvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3IoJHNjb3BlLCRlbGVtZW50LCR0cmFuc2xhdGUpIHtcclxuICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgc2VsZi5hbG1hSW5zdGl0dXRpb25zRmlsdGVySW5zdENvZGVMaXN0ID0gW1wiMzJLVUxfSFVCXCIsXCIzMktVTF9LSE1cIixcIjMyS1VMX0tIS1wiLFwiMzJLVUxfS0hMXCIsXCIzMktVTF9LQVRIT1wiLFwiMzJLVUxfTFVDQVdFTktcIl1cclxuICAgICAgXHJcbiAgICAgIHNlbGYuJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgICBzZWxmLiRlbGVtZW50ID0gJGVsZW1lbnQ7XHJcbiAgICAgIHNlbGYuJHRyYW5zbGF0ZSA9ICR0cmFuc2xhdGU7XHJcbiAgICAgIHNlbGYuJGN0cmwgPSBzZWxmLnBhcmVudEN0cmwucGFyZW50Q3RybCA7XHJcbiAgICAgIHNlbGYudmlld0luc3QgPSB3aW5kb3cuYXBwQ29uZmlnW1wicHJpbW8tdmlld1wiXS5pbnN0aXR1dGlvbi5kZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgIC8qXHJcbiAgICAgIGNvbnNvbGUubG9nKCBzZWxmIClcclxuICAgICAgY29uc29sZS5sb2cgKCBzZWxmLiRjdHJsLnJlc3VsdC5kZWxpdmVyeS5hbG1hSW5zdGl0dXRpb25zTGlzdCApXHJcbiAgICAgIGNvbnNvbGUubG9nICggc2VsZi4kY3RybClcclxuICAgICAgY29uc29sZS5sb2cgKCBcImRpc3BsYXllZEF2YWlsYWJpbGl0eTpcIisgc2VsZi4kY3RybC5kaXNwbGF5ZWRBdmFpbGFiaWxpdHkgKTtcclxuICAgICAgKi9cclxuICAgICAgc2VsZi4kY3RybC5kaXNwbGF5ZWRBdmFpbGFiaWxpdHkuZm9yRWFjaChhdmFpbGFiaWxpdHkgPT4ge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY29uc29sZS5sb2cgKCBcImlmU2hvd0F2YWlsYWJpbGl0eShhdmFpbGFiaWxpdHkpOlwiKyBzZWxmLiRjdHJsLmlmU2hvd0F2YWlsYWJpbGl0eShhdmFpbGFiaWxpdHkpICk7XHJcbiAgICAgICAgY29uc29sZS5sb2cgKCBcIiEkY3RybC5pc0NvbGxlY3Rpb25EaXNjb3ZlcnlDb2xsZWN0aW9uOlwiKyBzZWxmLiRjdHJsLmlzQ29sbGVjdGlvbkRpc2NvdmVyeUNvbGxlY3Rpb24gKTtcclxuICAgICAgICBjb25zb2xlLmxvZyAoIFwiJGN0cmwuc2hvd1RpbWVyOlwiKyBzZWxmLiRjdHJsLnNob3dUaW1lcik7XHJcbiAgICAgICAgY29uc29sZS5sb2cgKCBcIiRjdHJsLmhhbmRsZUR1ZURhdGUoYXZhaWxhYmlsaXR5KTpcIisgc2VsZi4kY3RybC5oYW5kbGVEdWVEYXRlKGF2YWlsYWJpbGl0eSkgKTtcclxuICAgICAgICBjb25zb2xlLmxvZyAoIFwiJGN0cmwuaXNQaHlzaWNhbCgpOlwiKyBzZWxmLiRjdHJsLmlzUGh5c2ljYWwoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2cgKCBcIiR0cmFuc2xhdGUuaW5zdGFudCgnZGVsaXZlcnkuY29kZS5hdmFpbGFibGVfaW5fbGlicmFyeScpIDpcIisgJHRyYW5zbGF0ZS5pbnN0YW50KCdkZWxpdmVyeS5jb2RlLicrIHNlbGYuJGN0cmwuaGFuZGxlRHVlRGF0ZShhdmFpbGFiaWxpdHkpICkgICk7XHJcbiAgICAgICAgY29uc29sZS5sb2cgKCAgJHRyYW5zbGF0ZS5pbnN0YW50KCdkZWxpdmVyeS5jb2RlLicrIHNlbGYuJGN0cmwuaGFuZGxlRHVlRGF0ZShhdmFpbGFiaWxpdHkpICkgICk7XHJcbiAgICAgICAgKi9cclxuICAgICAgICAvLyBuZy1pZj1cIjo6KCRjdHJsLnNob3dEaXNwbGF5T3RoZXJMb2NhdGlvbnMoKSB8fCAkY3RybC5zaG93RGlzcGxheUxvY2F0aW9uKCkgIHx8ICRjdHJsLnNob3dPdGhlckxpYnJhcmllcyhhdmFpbGFiaWxpdHkpKSAmJiAkY3RybC5pc1BoeXNpY2FsKCRpbmRleClcIlxyXG5cclxuICAgICAgICB2YXIgYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zID0gc2VsZi4kY3RybC5yZXN1bHQuZGVsaXZlcnkuYWxtYUluc3RpdHV0aW9uc0xpc3QuZmlsdGVyKGluc3QgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGluc3QuYXZhaWxhYmlsaXR5U3RhdHVzID09PSBcImF2YWlsYWJsZV9pbl9pbnN0aXR1dGlvblwiICYmICBzZWxmLmFsbWFJbnN0aXR1dGlvbnNGaWx0ZXJJbnN0Q29kZUxpc3QuaW5jbHVkZXMoaW5zdC5pbnN0Q29kZSkpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL2NvbnNvbGUubG9nICggYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zLm1hcCggaW5zdCA9PiBpbnN0Lmluc3ROYW1lICkuam9pbigpICk7XHJcblxyXG4gICAgICAgIHZhciBhdmFpbGFiaWxpdHlJbnN0aXR1dGlvbnNOYW1lcyA9IGF2YWlsYWJpbGl0eUluc3RpdHV0aW9ucy5tYXAoIGluc3QgPT4gaW5zdC5pbnN0TmFtZSApXHJcblxyXG4gICAgICAgIGlmICggYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zTmFtZXMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLiRjdHJsLnJlc3VsdC5kZWxpdmVyeS5hdmFpbGFiaWxpdHlbMF0gID09PSBcImF2YWlsYWJsZV9pbl9saWJyYXJ5XCIpe1xyXG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBpbnN0bmFtZSBmcm9tIGF2YWlsYWJpbGl0eVRleHQgd2l0aCBsaXN0IG9mIGluc3RuYW1lc1xyXG4gICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zTmFtZXMudW5zaGlmdCggd2luZG93LmFwcENvbmZpZ1tcInByaW1vLXZpZXdcIl0uaW5zdGl0dXRpb24uZGVzY3JpcHRpb24gKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuJGN0cmwuYXZhaWxhYmlsaXR5UmVnVmlldyA9IFxyXG4gICAgICAgICAgICAgICAgICAgICR0cmFuc2xhdGUuaW5zdGFudCgnZGVsaXZlcnkuY29kZS4nKyBzZWxmLiRjdHJsLmhhbmRsZUR1ZURhdGUoYXZhaWxhYmlsaXR5KSApLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hcHBDb25maWdbXCJwcmltby12aWV3XCJdLmluc3RpdHV0aW9uLmRlc2NyaXB0aW9uICwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJpbGl0eUluc3RpdHV0aW9uc05hbWVzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpICsnIGFuZCAnKyBhdmFpbGFiaWxpdHlJbnN0aXR1dGlvbnNOYW1lcy5zbGljZSgtMSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmIChzZWxmLiRjdHJsLnJlc3VsdC5kZWxpdmVyeS5iZXN0bG9jYXRpb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuJGN0cmwucmVzdWx0LmRlbGl2ZXJ5LmF2YWlsYWJpbGl0eVswXSA9PT0gXCJub19pbnZlbnRvcnlcIil7XHJcbiAgICAgICAgICAgICAgICAvL3NlbGYuJGN0cmwuZGlzcGxheWVkQXZhaWxhYmlsaXR5ID0gW1wiYXZhaWxhYmxlX2luX2xpYnJhcnlcIl07XHJcbiAgICAgICAgICAgICAgICBzZWxmLiRjdHJsLnJlc3VsdC5kZWxpdmVyeS5hdmFpbGFiaWxpdHkgPSBbXCJhdmFpbGFibGVfaW5fbGlicmFyeVwiXTtcclxuICAgICAgICAgICAgICAgIGlmICAoYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zTmFtZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kY3RybC5hdmFpbGFiaWxpdHlSZWdWaWV3ID0gXHJcbiAgICAgICAgICAgICAgICAgICAgJHRyYW5zbGF0ZS5pbnN0YW50KCdkZWxpdmVyeS5jb2RlLmF2YWlsYWJsZV9pbl9saWJyYXJ5JykucmVwbGFjZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFwcENvbmZpZ1tcInByaW1vLXZpZXdcIl0uaW5zdGl0dXRpb24uZGVzY3JpcHRpb24gLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zTmFtZXNbMF1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi4kY3RybC5hdmFpbGFiaWxpdHlSZWdWaWV3ID0gXHJcbiAgICAgICAgICAgICAgICAgICAgJHRyYW5zbGF0ZS5pbnN0YW50KCdkZWxpdmVyeS5jb2RlLmF2YWlsYWJsZV9pbl9saWJyYXJ5JykucmVwbGFjZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFwcENvbmZpZ1tcInByaW1vLXZpZXdcIl0uaW5zdGl0dXRpb24uZGVzY3JpcHRpb24gLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmlsaXR5SW5zdGl0dXRpb25zTmFtZXMuc2xpY2UoMCwgLTEpLmpvaW4oJywgJykgKycgYW5kICcrIGF2YWlsYWJpbGl0eUluc3RpdHV0aW9uc05hbWVzLnNsaWNlKC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZWdWaWV3QXZhaWxhYmlsaXR5TGluZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGVsZW1lbnQnLCckdHJhbnNsYXRlJ107XHJcbiAgXHJcbiAgZXhwb3J0IGxldCByZWdWaWV3QXZhaWxhYmlsaXR5TGluZUNvbmZpZyA9IHtcclxuICAgIGJpbmRpbmdzOiB7cGFyZW50Q3RybDogJzwnfSxcclxuICAgIGNvbnRyb2xsZXI6IHJlZ1ZpZXdBdmFpbGFiaWxpdHlMaW5lQ29udHJvbGxlcixcclxuICAgIHRlbXBsYXRlOiAnJ1xyXG4gIH1cclxuICAiLCIvKlxyXG4gIENlbnRyYWwgUGFja2FnZSBMb2FkZXJcclxuXHJcbiAgRG8gTk9UIGVkaXQgdGhpcyBmaWxlLlxyXG4gIEFsbCBjb21wb25lbnRzIGFyZSBkZWNsYXJlZCBpbiBcImNvbXBvbmVudHMuanNcIlxyXG5cclxuICBLVUxldXZlbi9MSUJJUyAoYykgMjAxN1xyXG4gIE1laG1ldCBDZWxpa1xyXG4qL1xyXG5pbXBvcnQgUHJpbW8gZnJvbSAnLi9wcmltby1leHBsb3JlLWRvbS9qcy9wcmltbydcclxuaW1wb3J0IEhlbHBlciBmcm9tICcuL3ByaW1vLWV4cGxvcmUtZG9tL2pzL3ByaW1vL2V4cGxvcmUvaGVscGVyJ1xyXG5pbXBvcnQgQ29tcG9uZW50cyBmcm9tICcuL2NvbXBvbmVudHMnXHJcbmltcG9ydCBUZW1wbGF0ZXMgZnJvbSAnLi90ZW1wbGF0ZXMnXHJcblxyXG4vL21ha2UgUHJpbW8gcHVibGljXHJcbndpbmRvdy5QcmltbyA9IFByaW1vO1xyXG4vL2xvYWQgUHJpbW9FeHBsb3JlciBVSSBpZiBhbmd1bGFyLnJlbG9hZFdpdGhEZWJ1Z0luZm8oKSBpcyByYW5cclxud2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gIGlmIChQcmltby5pc0RlYnVnRW5hYmxlZCgpKSB7XHJcbiAgICBsZXQgdWlVUkwgPSAnaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS9tZWhtZXRjL3ByaW1vLWV4cGxvcmUtZG9tLXVpL2ZjMDg2OGRmL2pzL2N1c3RvbS5qcyc7XHJcbiAgICAvL2xldCB1aVVSTCA9ICdodHRwOi8vMTI3LjAuMC4xOjgwMDAvanMvY3VzdG9tLmpzJztcclxuXHJcbiAgICBIZWxwZXIubG9hZFNjcmlwdCh1aVVSTCkudGhlbigoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdJbmplY3RpbmcgVUknKTtcclxuICAgICAgUHJpbW8uZXhwbG9yZS51aS50b2dnbGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSwgMjAwMCk7XHJcblxyXG5sZXQgc2VydmljZXNIb3N0ID0gJ2h0dHBzOi8vc2VydmljZXMubGliaXMuYmUvJztcclxuXHJcbi8vIGxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgndmlld0N1c3RvbScsIFsnbmdNYXRlcmlhbCcsICd2Y1JlY2FwdGNoYScsJ2dvb2dsZUFuYWx5dGljcyddKVxyXG5sZXQgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3ZpZXdDdXN0b20nLCBbJ25nTWF0ZXJpYWwnLCAndmNSZWNhcHRjaGEnXSlcclxuLypcclxuICAuY29uc3RhbnQoJ2ZlZWRiYWNrU2VydmljZVVSTCcsIHNlcnZpY2VzSG9zdCArICdmZWVkYmFjaycpXHJcbiAgLmNvbnN0YW50KCdyZXBvcnRBUHJvYmxlbVVSTCcsIHNlcnZpY2VzSG9zdCArICdyZXBvcnRfYV9wcm9ibGVtJylcclxuICAuY29uc3RhbnQoJ3JlcXVlc3RBQ29weVVSTCcsIHNlcnZpY2VzSG9zdCArICdyZXF1ZXN0X2FfY29weScpXHJcbiAgLmNvbnN0YW50KCdyZXF1ZXN0QUNvcHlPZkVzRG9jVVJMJywgc2VydmljZXNIb3N0ICsgJ2lsbGp3dGZvcm0nKVxyXG4gIC5jb25maWcoKCRzY2VEZWxlZ2F0ZVByb3ZpZGVyKSA9PiB7XHJcbiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXHJcbiAgICAgICcqKidcclxuICAgIF0pO1xyXG4gIH0pXHJcbiovXHJcbi8qXHJcbmFwcC5mYWN0b3J5KCdyZWdWaWV3U2VhcmNoSHR0cENhbGxJbnRlcmNlcHRvcicsIHJlZ1ZpZXdTZWFyY2hIdHRwQ2FsbEludGVyY2VwdG9yKSAgXHJcbi8vaW50ZXJjZXB0IGFwaSBjYWxscyBmb3IgZGF0YWJhc2Ugc2VhcmNoIGFuZCBjaGFuZ2UgdG8gS1VMIChvbmx5IHJlZ2lvbmFsIHZpZXdzKVxyXG52YXIgcmVnX3ZpZXdzID0gW1wiMzJLVUxfSFVCOkxJQklTTkVUMl9VTklPTlwiXTtcclxuaWYgKHJlZ192aWV3cy5pbmNsdWRlcyh3aW5kb3cuYXBwQ29uZmlnLnZpZCkpIHtcclxuICBhcHAuY29uZmlnKFsnJGh0dHBQcm92aWRlcicsICgkaHR0cFByb3ZpZGVyKSA9PiB7ICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ3JlZ1ZpZXdTZWFyY2hIdHRwQ2FsbEludGVyY2VwdG9yJyk7IH1dKTtcclxufVxyXG4qL1xyXG5cclxuLy9Db250YWlucyB0aGUgYWZ0ZXIgY29tcG9uZW50IHNlbGVjdG9ycyB0aGF0IHdpbGwgYmUgaW5qZWN0ZWRcclxubGV0IGFmdGVyQ29tcG9uZW50cyA9IHt9O1xyXG5cclxuLy9DcmVhdGUgYWxsIGNvbXBvbmVudHMgYW5kIGRldGVybWluZSBpbiB3aGljaCBhZnRlciBjb21wb25lbnQgdGhlc2UgbmVlZCB0byBiZVxyXG4vL2luamVjdGVkXHJcbmNvbnNvbGUubG9nKCdMb2FkaW5nIHZpZXdDdXN0b20gY29tcG9uZW50cycpO1xyXG5Db21wb25lbnRzLmFsbC5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcclxuICBjb25zb2xlLmxvZyhjb21wb25lbnQubmFtZSlcclxuICBpZiAoY29tcG9uZW50LmVuYWJsZWQpIHtcclxuICAgIGlmIChjb21wb25lbnQuYXBwZW5kVG8pIHtcclxuICAgICAgbGV0IGVsZW1lbnRzID0gYWZ0ZXJDb21wb25lbnRzW2NvbXBvbmVudC5hcHBlbmRUb10gfHwgW107XHJcbiAgICAgIC8vZWxlbWVudHMucHVzaChjb21wb25lbnQubmFtZSk7XHJcbiAgICAgIGVsZW1lbnRzLnB1c2goe1xyXG4gICAgICAgICduYW1lJzogY29tcG9uZW50Lm5hbWUsXHJcbiAgICAgICAgJ2VuYWJsZUluVmlldyc6IGNvbXBvbmVudC5lbmFibGVJblZpZXdcclxuICAgICAgfSk7XHJcbiAgICAgIGFmdGVyQ29tcG9uZW50c1tjb21wb25lbnQuYXBwZW5kVG9dID0gZWxlbWVudHM7XHJcblxyXG4gICAgfVxyXG4gICAgYXBwLmNvbnN0YW50KCdhZnRlckNvbXBvbmVudHMnLCBhZnRlckNvbXBvbmVudHMpO1xyXG4gICAgYXBwLmNvbXBvbmVudChjb21wb25lbnQubmFtZS50b0NhbWVsQ2FzZSgpLCBjb21wb25lbnQuY29uZmlnKTtcclxuICB9XHJcbn0pXHJcbjtcclxuXHJcbmNvbnNvbGUubG9nKCdSZXBsYWNlIFRlbXBsYXRlcycpO1xyXG5UZW1wbGF0ZXMuYWxsLmZvckVhY2goKHRlbXBsYXRlKSA9PiB7XHJcbiAgY29uc29sZS5sb2codGVtcGxhdGUuaWQpXHJcbiAgYXBwLnJ1bigoJHRlbXBsYXRlQ2FjaGUpID0+IHtcclxuICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZS5pZCwgdGVtcGxhdGUudGVtcGxhdGUpO1xyXG4gIH0pXHJcbn0pXHJcblxyXG4vL0luamVjdCBwbGFjZSBob2xkZXJzIGludG8gdGhlIGFmdGVyIGNvbXBvbmVudHNcclxuT2JqZWN0LmtleXMoYWZ0ZXJDb21wb25lbnRzKS5mb3JFYWNoKChjb21wb25lbnQsIGkpID0+IHtcclxuICBsZXQgc3ViQ29tcG9uZW50cyA9IGFmdGVyQ29tcG9uZW50c1tjb21wb25lbnRdO1xyXG4vKlxyXG4gIGNvbnNvbGUubG9nICggc3ViQ29tcG9uZW50cyApXHJcbiAgY29uc29sZS5sb2cgKCBzdWJDb21wb25lbnRzLm1hcChtID0+IGA8JHttLm5hbWV9IHBhcmVudC1jdHJsPVwiJGN0cmxcIj48LyR7bS5uYW1lfT5gKSApXHJcbiovXHJcbiAgYXBwLmNvbXBvbmVudChjb21wb25lbnQudG9DYW1lbENhc2UoKSwge1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgcGFyZW50Q3RybDogJzwnXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IHN1YkNvbXBvbmVudHMubWFwKG0gPT4gYDwke20ubmFtZX0gcGFyZW50LWN0cmw9XCIkY3RybFwiPjwvJHttLm5hbWV9PmApLmpvaW4oXCJcIilcclxuICB9KTtcclxufSk7XHJcblxyXG4iLCJpbXBvcnQgRXhwbG9yZSBmcm9tICcuL3ByaW1vL2V4cGxvcmUnXHJcbmltcG9ydCBSZWNvcmRzIGZyb20gJy4vcHJpbW8vcmVjb3JkcydcclxuaW1wb3J0IEZhY2V0cyBmcm9tICcuL3ByaW1vL2ZhY2V0cydcclxuaW1wb3J0IFZpZXcgZnJvbSAnLi9wcmltby92aWV3J1xyXG5pbXBvcnQgVXNlciBmcm9tICcuL3ByaW1vL3VzZXInXHJcbmltcG9ydCBIZWxwZXIgZnJvbSAnLi9wcmltby9leHBsb3JlL2hlbHBlcidcclxuXHJcbi8qKlxyXG4gKiBQcmltbyBtYWluIGVudHJ5IGNsYXNzXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmltbyB7XHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIHZlcnNpb24gaW5mb3JtYXRpb25cclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgc3RhdGljIGdldCB2ZXJzaW9uKCkge1xyXG4gICAgbGV0IF92ZXJzaW9uID0gXCIwLjAuMTBcIjtcclxuICAgIHJldHVybiBgTGlicmFyeToke192ZXJzaW9ufSAtIFByaW1vOiR7d2luZG93LmFwcENvbmZpZ1snc3lzdGVtLWNvbmZpZ3VyYXRpb24nXS5Qcmltb19WZXJzaW9uX051bWJlcn06JHt3aW5kb3cuYXBwQ29uZmlnWydzeXN0ZW0tY29uZmlndXJhdGlvbiddLlByaW1vX0hvdEZpeF9OdW1iZXJ9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIGFuZ3VsYXIucmVsb2FkV2l0aERlYnVnSW5mbygpIGhhcyByYW5cclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0RlYnVnRW5hYmxlZCgpIHtcclxuICAgIHJldHVybiBIZWxwZXIuaXNEZWJ1Z0VuYWJsZWQoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpZCB0aGUgc2NyaXB0IHJhbiBvbiBhIFByaW1vIHNpdGVcclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc1ByaW1vQXZhaWxhYmxlKCkge1xyXG4gICAgcmV0dXJuIEhlbHBlci5pc1ByaW1vQXZhaWxhYmxlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGlzIGEgcHJveHkgY2xhc3NcclxuICAgKiBAcmV0dXJuIHtFeHBsb3JlfVxyXG4gICAqL1xyXG4gIHN0YXRpYyBnZXQgZXhwbG9yZSgpIHtcclxuICAgIHJldHVybiBFeHBsb3JlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgcG9pbnRlciB0byBhdmFpbGFibGUgcmVjb3Jkc1xyXG4gICAqIEByZXR1cm4ge1JlY29yZHN9XHJcbiAgICovXHJcbiAgc3RhdGljIGdldCByZWNvcmRzKCl7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICByZXNvbHZlKG5ldyBSZWNvcmRzKHRoaXMuZXhwbG9yZS5jb21wb25lbnRzKSk7XHJcbiAgICB9KVxyXG4gICAgLy9yZXR1cm4gbmV3IFJlY29yZHModGhpcy5leHBsb3JlLmNvbXBvbmVudHMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGEgcG9pbnRlciB0byBhdmFpbGFibGUgZmFjZXRzXHJcbiAgICogQHJldHVybiB7RmFjZXRzfVxyXG4gICAqL1xyXG4gIHN0YXRpYyBnZXQgZmFjZXRzKCl7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICByZXNvbHZlKG5ldyBGYWNldHModGhpcy5leHBsb3JlLmNvbXBvbmVudHMpKTtcclxuICAgIH0pXHJcbiAgICAvL3JldHVybiBuZXcgRmFjZXRzKHRoaXMuZXhwbG9yZS5jb21wb25lbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBhIHBvaW50ZXIgdG8gdmlldyByZWxhdGVkIG1ldGFkYXRhXHJcbiAgICogQHJldHVybiB7Vmlld31cclxuICAgKi9cclxuICBzdGF0aWMgZ2V0IHZpZXcoKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICByZXNvbHZlKG5ldyBWaWV3KCkpO1xyXG4gICAgfSlcclxuICAgIC8vcmV0dXJuIG5ldyBWaWV3KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYSBwb2ludGVyIHRvIHVzZXIgcmVsYXRlZCBtZXRhZGF0YVxyXG4gICAqIEByZXR1cm4ge1VzZXJ9XHJcbiAgICovXHJcbiAgc3RhdGljIGdldCB1c2VyKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgSGVscGVyLnVzZXJEZXRhaWxzSFRUUCgpLnRoZW4oKHVzZXJEZXRhaWxzKT0+e1xyXG4gICAgICAgIEhlbHBlci51c2VyRmluZXNIVFRQKCkudGhlbigodXNlckZpbmVzKSA9PiB7XHJcbiAgICAgICAgICBIZWxwZXIudXNlckxvYW5zSFRUUCgpLnRoZW4oKHVzZXJMb2FucykgPT4ge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUobmV3IFVzZXIoe2RldGFpbHM6IHVzZXJEZXRhaWxzLCBmaW5lczogdXNlckZpbmVzLCBsb2FuczogdXNlckxvYW5zfSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDb21wb25lbnRzIGZyb20gJy4vZXhwbG9yZS9jb21wb25lbnRzJ1xyXG5pbXBvcnQgSGVscGVyIGZyb20gJy4vZXhwbG9yZS9oZWxwZXInXHJcblxyXG4vL3RoaXMgaXMgcHJveHkgY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwbG9yZSB7XHJcbiAgc3RhdGljIGdldCBjb21wb25lbnRzKCkge1xyXG4gICAgbGV0IGMgPSBuZXcgQ29tcG9uZW50cygpO1xyXG4gICAgSGVscGVyLmNvbXBvbmVudE5hbWVzLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XHJcbiAgICAgIGMuYWRkKHNlbGVjdG9yKTtcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIGM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IHVpKCkge1xyXG4gICAgaWYgKHRoaXMuX3VpID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVGhpcyBpcyBhIHN0dWIgZnVuY3Rpb24gY2FsbCBcImFuZ3VsYXIucmVsb2FkV2l0aERlYnVnSW5mbygpXCIgdG8gYWN0aXZhdGUgVUknKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLl91aTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgaGVscGVyKCkge1xyXG4gICAgcmV0dXJuIEhlbHBlcjtcclxuICB9XHJcbn1cclxuIiwidmFyIGNzc1NlbGVjdG9yR2VuZXJhdG9yID0gbmV3KHJlcXVpcmUoJy4uLy4uL3ZlbmRvci9jc3Mtc2VsZWN0b3ItZ2VuZXJhdG9yLmpzJykpLkNzc1NlbGVjdG9yR2VuZXJhdG9yO1xyXG5cclxuaW1wb3J0IEhlbHBlciBmcm9tICcuL2hlbHBlcidcclxuXHJcbmNsYXNzIENvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IoZWxlbWVudCl7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgYmxpbmsoKXtcclxuICAgIEhlbHBlci5ibGluayh0aGlzKTtcclxuICB9XHJcblxyXG4gIGdldCBjc3NQYXRoKCl7XHJcbiAgICByZXR1cm4gY3NzU2VsZWN0b3JHZW5lcmF0b3IuZ2V0U2VsZWN0b3IodGhpcy5lbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGdldCBuYW1lKCl7XHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmxvY2FsTmFtZTtcclxuICB9XHJcblxyXG4gIHNjb3BlKCl7XHJcbiAgICBpZiAoSGVscGVyLmlzRGVidWdFbmFibGVkKCkpe1xyXG4gICAgICByZXR1cm4gYW5ndWxhci5lbGVtZW50KHRoaXMuZWxlbWVudCkuc2NvcGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BsZWFzZSBydW4gXCJhbmd1bGFyLnJlbG9hZFdpdGhEZWJ1Z0luZm8oKVwiIGZpcnN0Jyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjdHJsKCl7XHJcbiAgICBsZXQgYyA9IGFuZ3VsYXIuZWxlbWVudCh0aGlzLmVsZW1lbnQpLmNvbnRyb2xsZXIodGhpcy5uYW1lKTtcclxuICAgIGlmIChjKSB7XHJcbiAgICAgIHJldHVybiBjO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ3VzaW5nIGFsdGVybmF0aXZlIG1ldGhvZCB0byBnZXQgY29udHJvbGxlcicpO1xyXG4gICAgICBsZXQgc2NvcGUgPSB0aGlzLnNjb3BlKCk7XHJcbiAgICAgIGlmIChzY29wZSkge1xyXG4gICAgICAgIGxldCBzY29wZUNoaWxkID0gc2NvcGUuJCRjaGlsZFRhaWw7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjb3BlKS5pbmNsdWRlcygnJGN0cmwnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuJGN0cmxcclxuICAgICAgICB9IGVsc2UgaWYoT2JqZWN0LmtleXMoc2NvcGUpLmluY2x1ZGVzKCdjdHJsJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmN0cmxcclxuICAgICAgICB9IGVsc2UgaWYgKHNjb3BlQ2hpbGQgJiYgT2JqZWN0LmtleXMoc2NvcGVDaGlsZCkuaW5jbHVkZXMoJyRjdHJsJykpe1xyXG4gICAgICAgICAgICByZXR1cm4gc2NvcGVDaGlsZC4kY3RybDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNjb3BlQ2hpbGQgJiYgT2JqZWN0LmtleXMoc2NvcGVDaGlsZCkuaW5jbHVkZXMoJ2N0cmwnKSl7XHJcbiAgICAgICAgICAgIHJldHVybiBzY29wZUNoaWxkLmN0cmw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gJGN0cmwgZGVmaW5lZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9uZW50cyB7XHJcbiAgY29uc3RydWN0b3IoKXtcclxuXHJcbiAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSB7fTtcclxuICB9XHJcblxyXG4gIGFkZChzZWxlY3Rvcikge1xyXG4gICAgbGV0IGVsZW1lbnRzID0gSGVscGVyLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgbGV0IGVsZW1lbnRzQXJyYXkgPSB0aGlzLl9jb21wb25lbnRzW3NlbGVjdG9yXSB8fCBbXTtcclxuXHJcbiAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KT0+e1xyXG4gICAgICBlbGVtZW50c0FycmF5LnB1c2gobmV3IENvbXBvbmVudChlbGVtZW50KSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jb21wb25lbnRzW3NlbGVjdG9yXSA9IGVsZW1lbnRzQXJyYXk7XHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnRzQXJyYXk7XHJcbiAgfVxyXG5cclxuICBnZXQoc2VsZWN0b3IpIHtcclxuICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzW3NlbGVjdG9yXSB8fCBudWxsO1xyXG4gIH1cclxuXHJcbiAga2V5cygpe1xyXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2NvbXBvbmVudHMpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscGVyIHtcclxuICAgIHN0YXRpYyBpc0RlYnVnRW5hYmxlZCgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93Lm5hbWUgPT09ICdOR19FTkFCTEVfREVCVUdfSU5GTyEnIHx8IHR5cGVvZihhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigncHJtLWxvZ28nKSkuc2NvcGUoKSkgIT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzUHJpbW9BdmFpbGFibGUoKSB7XHJcbiAgICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2Yod2luZG93LmFuZ3VsYXIpKSB7XHJcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdwcmltby1leHBsb3JlJykgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0IGNvbXBvbmVudE5hbWVzKCkge1xyXG4gICAgICAgIGxldCB0YWdzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpKTtcclxuICAgICAgICBsZXQgY29tcG9uZW50TmFtZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xyXG4gICAgICAgICAgICBsZXQgdGFnTmFtZSA9IHRhZy5sb2NhbE5hbWU7XHJcbiAgICAgICAgICAgIGlmICgvXnBybS0vLnRlc3QodGFnTmFtZSkgfHwgL15wcmltby0vLnRlc3QodGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50TmFtZXMuaW5jbHVkZXModGFnTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lcy5wdXNoKHRhZ05hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb21wb25lbnROYW1lcyA9IGNvbXBvbmVudE5hbWVzLnNvcnQoKS5maWx0ZXIoKGUsIGksIGEpID0+IGkgPT09IGEuZmluZEluZGV4KChlMikgPT4gZSA9PT0gZTIpKTtcclxuICAgICAgICByZXR1cm4gY29tcG9uZW50TmFtZXM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluamVjdG9yKCkge1xyXG4gICAgICBsZXQgYyA9IFByaW1vLmV4cGxvcmUuY29tcG9uZW50cy5nZXQoJ3ByaW1vLWV4cGxvcmUnKTtcclxuICAgICAgaWYgKGMgJiYgYy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBsZXQgcHJpbW9FeHBsb3JlID0gYW5ndWxhci5lbGVtZW50KGNbMF0uZWxlbWVudCk7XHJcbiAgICAgICAgICBsZXQgaW5qZWN0b3IgICAgID0gcHJpbW9FeHBsb3JlLmluamVjdG9yKCk7XHJcbiAgICAgICAgICBpZiAoaW5qZWN0b3Ipe1xyXG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0b3I7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgaHR0cCgpIHtcclxuICAgICAgbGV0IGluamVjdG9yID0gdGhpcy5pbmplY3RvcigpO1xyXG4gICAgICBpZiAoaW5qZWN0b3IpIHtcclxuICAgICAgICBsZXQgaCA9IGluamVjdG9yLmdldCgnJGh0dHAnKTtcclxuICAgICAgICBpZiAoaCkge1xyXG4gICAgICAgICAgcmV0dXJuIGg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc3RhdGljIGxvYWRTY3JpcHQoc2NyaXB0VVJMKSB7XHJcbiAgICAgIGlmICh3aW5kb3cuYW5ndWxhcikge1xyXG4gICAgICAgICAgbGV0IGFwcEluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywnYW5ndWxhckxvYWQnXSk7XHJcbiAgICAgICAgICBpZiAoYXBwSW5qZWN0b3IpIHtcclxuICAgICAgICAgICAgICBsZXQgYW5ndWxhckxvYWQgPSBhcHBJbmplY3Rvci5nZXQoJ2FuZ3VsYXJMb2FkJyk7XHJcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXJMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhckxvYWQubG9hZFNjcmlwdChzY3JpcHRVUkwpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyByb290U2NvcGUoKSB7XHJcbiAgICAgIGxldCBpbmplY3RvciA9IHRoaXMuaW5qZWN0b3IoKTtcclxuICAgICAgaWYgKGluamVjdG9yKSB7XHJcbiAgICAgICAgICBsZXQgcm9vdFNjb3BlICAgID0gaW5qZWN0b3IuZ2V0KCckcm9vdFNjb3BlJyk7XHJcbiAgICAgICAgICBpZiAocm9vdFNjb3BlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb290U2NvcGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1c2VyU2Vzc2lvbk1hbmFnZXJTZXJ2aWNlKCkge1xyXG4gICAgICBsZXQgcm9vdFNjb3BlID0gdGhpcy5yb290U2NvcGUoKTtcclxuICAgICAgaWYgKHJvb3RTY29wZSkge1xyXG4gICAgICAgIHJldHVybiByb290U2NvcGUuJCRjaGlsZEhlYWQuJGN0cmwudXNlclNlc3Npb25NYW5hZ2VyU2VydmljZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGp3dERhdGEoKSB7XHJcbiAgICAgIGxldCB1U01TID0gdGhpcy51c2VyU2Vzc2lvbk1hbmFnZXJTZXJ2aWNlKCk7XHJcbiAgICAgIGlmICh1U01TKSB7XHJcbiAgICAgICAgbGV0IGp3dERhdGEgPSB1U01TLmp3dFV0aWxTZXJ2aWNlLmdldERlY29kZWRUb2tlbigpIHx8IHt9O1xyXG4gICAgICAgIHJldHVybiBqd3REYXRhO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHVzZXJEZXRhaWxzKCkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXNlclNlc3Npb25NYW5hZ2VyU2VydmljZSgpLiRsb2NhbEZvcmFnZS5nZXRJdGVtKCd1c2VyRGV0YWlscycpLnRoZW4odXNlckRldGFpbHMgPT4gcmVzb2x2ZSh1c2VyRGV0YWlscykpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXNlckRldGFpbHNIVFRQKCkge1xyXG4gICAgICBsZXQgdmlld0NvZGUgPSB0aGlzLmp3dERhdGEoKS52aWV3SWQgfHwgd2luZG93LmFwcENvbmZpZ1sndmlkJ107XHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUscmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5odHRwLmdldChgL3ByaW1vX2xpYnJhcnkvbGlid2ViL3dlYnNlcnZpY2VzL3Jlc3QvdjEvdXNlcnNldHRpbmdzP3ZpZD0ke3ZpZXdDb2RlfWApLnRoZW4odXNlckRldGFpbHMgPT4gcmVzb2x2ZSh1c2VyRGV0YWlscy5kYXRhKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyB1c2VyRmluZXNIVFRQKCkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaHR0cC5nZXQoJy9wcmltb19saWJyYXJ5L2xpYndlYi93ZWJzZXJ2aWNlcy9yZXN0L3YxL215YWNjb3VudC9maW5lcycpLnRoZW4odXNlckZpbmVzID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdXNlckZpbmVzLmRhdGE7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmluZXMgPSBkYXRhLmRhdGEuZmluZXM7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZpbmVzLmZpbmUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBmaW5lcycpO1xyXG4gICAgICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXRjaChlcnJvcil7XHJcbiAgICAgICAgICAgIHJlc29sdmUoW10pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdXNlckxvYW5zSFRUUCgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmh0dHAuZ2V0KCcvcHJpbW9fbGlicmFyeS9saWJ3ZWIvd2Vic2VydmljZXMvcmVzdC92MS9teWFjY291bnQvbG9hbnMnKS50aGVuKHVzZXJMb2FucyA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHVzZXJMb2Fucy5kYXRhO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxvYW5zID0gZGF0YS5kYXRhLmxvYW5zO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShsb2Fucy5sb2FuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gbG9hbnMnKTtcclxuICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2F0Y2goZXJyb3Ipe1xyXG4gICAgICAgICAgICByZXNvbHZlKFtdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGJsaW5rKGNvbXBvbmVudCwgbnVtYmVyT2ZCbGlua3MgPSA0KSB7XHJcbiAgICAgICAgbGV0IGludGVydmFsSWQgPSBudWxsO1xyXG4gICAgICAgIGxldCBib3JkZXJFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICBsZXQgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMTAwMCAtIDEpKSArIDE7XHJcbiAgICAgICAgbGV0IGJvcmRlclNlbGVjdG9yID0gY29tcG9uZW50LmVsZW1lbnQuY3NzUGF0aCArIGluZGV4ICsgJ1JlY3QnO1xyXG5cclxuICAgICAgICBsZXQgY3JlYXRlQm9yZGVyRWxlbWVudCA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRSZWN0ID0gY29tcG9uZW50LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYm9yZGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwMDAgLSAxKSkgKyAxO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgYm9yZGVyU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyRWxlbWVudC5zdHlsZS5ib3JkZXIgPSAnM3B4IHNvbGlkIHJlZCc7XHJcbiAgICAgICAgICAgICAgICBib3JkZXJFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgICAgIGJvcmRlckVsZW1lbnQuc3R5bGUudG9wID0gZWxlbWVudFJlY3QudG9wICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIGJvcmRlckVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZWxlbWVudFJlY3QuaGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIGJvcmRlckVsZW1lbnQuc3R5bGUud2lkdGggPSBlbGVtZW50UmVjdC53aWR0aCArICdweCc7XHJcbiAgICAgICAgICAgICAgICBib3JkZXJFbGVtZW50LnN0eWxlLmxlZnQgPSBlbGVtZW50UmVjdC5sZWZ0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYm9yZGVyRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgYm9yZGVyU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZW1vdmVCb3JkZXJFbGVtZW50ID0gKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGJvcmRlckVsZW1lbnQpIHtcclxuICAgICAgICAgICAgYm9yZGVyRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBibGlua0JvcmRlckVsZW1lbnQgPSAobnVtYmVyT2ZCbGlua3MgPSA0KSA9PiB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG51bWJlck9mQmxpbmtzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQm9yZGVyRWxlbWVudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gKChudW1iZXJPZkJsaW5rcyAlIDIpID09IDApID8gJ25vbmUnIDogJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIG51bWJlck9mQmxpbmtzLS07XHJcbiAgICAgICAgICAgICAgICBpbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKGJsaW5rQm9yZGVyRWxlbWVudCwgMTAwMCwgbnVtYmVyT2ZCbGlua3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBib3JkZXJFbGVtZW50ID0gY3JlYXRlQm9yZGVyRWxlbWVudCgpO1xyXG4gICAgICAgIGJsaW5rQm9yZGVyRWxlbWVudChudW1iZXJPZkJsaW5rcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IENvbXBvbmVudHMgZnJvbSAnLi9leHBsb3JlL2NvbXBvbmVudHMnXHJcbmltcG9ydCBIZWxwZXIgZnJvbSAnLi9leHBsb3JlL2hlbHBlcidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZhY2V0cyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnRzKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9mYWNldHMoY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICBfZmFjZXRzKGNvbXBvbmVudHMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGMgPSBjb21wb25lbnRzLmdldCgncHJtLWZhY2V0LWFmdGVyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYyAmJiBjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RybCA9IGNbMF0uY3RybDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3RybC5mYWNldFNlcnZpY2UucmVzdWx0cztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCd0cnlpbmcgdG8gZ2V0IGZhY2V0cyB0aHJvdWdoIHRoZSByb290U2NvcGUnKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci51c2VyU2Vzc2lvbk1hbmFnZXJTZXJ2aWNlKCkuc2VhcmNoU3RhdGVTZXJ2aWNlLnJlc3VsdE9iamVjdC5mYWNldHM7XHJcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCd1bmFibGUgdG8gcmV0cmlldmUgZmFjZXRzJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IENvbXBvbmVudHMgZnJvbSAnLi9leHBsb3JlL2NvbXBvbmVudHMnXHJcbmltcG9ydCBIZWxwZXIgZnJvbSAnLi9leHBsb3JlL2hlbHBlcidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlY29yZHMge1xyXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50cykge1xyXG4gICAgICByZXR1cm4gdGhpcy5faXRlbXMoY29tcG9uZW50cyk7XHJcbiAgICB9XHJcbiAgICBfaXRlbXMoY29tcG9uZW50cykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGNvbXBvbmVudHMuZ2V0KCdwcm0tc2VhcmNoLXJlc3VsdC1saXN0LWFmdGVyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYyAmJiBjLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3RybCA9IGNbMF0uY3RybCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdHJsLml0ZW1saXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcInRyeSBhZ2FpblwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3RyeWluZyB0byBnZXQgcmVjb3JkcyB0aHJvdWdoIHRoZSByb290U2NvcGUnKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci51c2VyU2Vzc2lvbk1hbmFnZXJTZXJ2aWNlKCkuc2VhcmNoU3RhdGVTZXJ2aWNlLnJlc3VsdE9iamVjdC5kYXRhO1xyXG4gICAgICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigndW5hYmxlIHRvIHJldHJpZXZlIGl0ZW1zJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEhlbHBlciBmcm9tICcuL2V4cGxvcmUvaGVscGVyJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlciB7XHJcbiAgY29uc3RydWN0b3IodXNlciA9IF9za2VsVXNlcikge1xyXG4gICAgbGV0IHVTbXMgPSBIZWxwZXIudXNlclNlc3Npb25NYW5hZ2VyU2VydmljZSgpO1xyXG4gICAgbGV0IGp3dERhdGEgPSBIZWxwZXIuand0RGF0YSgpO1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IGp3dERhdGEudXNlciB8fCAnJyxcclxuICAgICAgICBlbWFpbDogdXNlci5kZXRhaWxzLmVtYWlsIHx8ICcnLFxyXG4gICAgICAgIG5hbWU6IGp3dERhdGEudXNlck5hbWUgfHwgJ0d1ZXN0JyxcclxuICAgICAgICBkaXNwbGF5X25hbWU6IHVTbXMuZ2V0VXNlck5hbWVGb3JEaXNwbGF5KCksXHJcbiAgICAgICAgaXNMb2dnZWRJbjogKCkgPT4gdVNtcy5nZXRVc2VyTmFtZSgpLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgaXNPbkNhbXB1czogKCkgPT4gand0RGF0YS5vbkNhbXB1cyA9PSBcInRydWVcIiA/IHRydWUgOiBmYWxzZSxcclxuICAgICAgICBmaW5lczogdXNlci5maW5lcyxcclxuICAgICAgICBsb2FuczogdXNlci5sb2Fuc1xyXG4gICAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0IF9za2VsVXNlcigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRldGFpbHM6IHt9LFxyXG4gICAgICBmaW5lczoge30sXHJcbiAgICAgIGxvYW5zOiB7fVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgSGVscGVyIGZyb20gJy4vZXhwbG9yZS9oZWxwZXInXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICBsZXQgdVNtcyA9IEhlbHBlci51c2VyU2Vzc2lvbk1hbmFnZXJTZXJ2aWNlKCk7XHJcbiAgICAgIGxldCBqd3REYXRhID0gSGVscGVyLmp3dERhdGEoKTtcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY29kZTogand0RGF0YS52aWV3SWQgfHwgd2luZG93LmFwcENvbmZpZ1sndmlkJ10sXHJcbiAgICAgICAgaW5zdGl0dXRpb246IHtcclxuICAgICAgICAgICAgY29kZTogand0RGF0YS52aWV3SW5zdGl0dXRpb25Db2RlLFxyXG4gICAgICAgICAgICBuYW1lOiB3aW5kb3cuYXBwQ29uZmlnWydwcmltby12aWV3J11bJ2F0dHJpYnV0ZXMtbWFwJ10uaW5zdGl0dXRpb25cclxuICAgICAgICB9LFxyXG4gICAgICAgIGludGVyZmFjZUxhbmd1YWdlOiB1U21zLmdldFVzZXJMYW5ndWFnZSgpIHx8IHdpbmRvdy5hcHBDb25maWdbJ3ByaW1vLXZpZXcnXVsnYXR0cmlidXRlcy1tYXAnXS5pbnRlcmZhY2VMYW5ndWFnZSxcclxuICAgICAgICBpcDoge1xyXG4gICAgICAgICAgYWRkcmVzczogand0RGF0YS5pcFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIihmdW5jdGlvbigpIHtcclxuICB2YXIgQ3NzU2VsZWN0b3JHZW5lcmF0b3IsIHJvb3QsXHJcbiAgICBpbmRleE9mID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbihpdGVtKSB7IGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsgaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSByZXR1cm4gaTsgfSByZXR1cm4gLTE7IH07XHJcblxyXG4gIENzc1NlbGVjdG9yR2VuZXJhdG9yID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgQ3NzU2VsZWN0b3JHZW5lcmF0b3IucHJvdG90eXBlLmRlZmF1bHRfb3B0aW9ucyA9IHtcclxuICAgICAgc2VsZWN0b3JzOiBbJ2lkJywgJ2NsYXNzJywgJ3RhZycsICdudGhjaGlsZCddXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIENzc1NlbGVjdG9yR2VuZXJhdG9yKG9wdGlvbnMpIHtcclxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xyXG4gICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcclxuICAgICAgdGhpcy5zZXRPcHRpb25zKHRoaXMuZGVmYXVsdF9vcHRpb25zKTtcclxuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgICB2YXIga2V5LCByZXN1bHRzLCB2YWw7XHJcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwpIHtcclxuICAgICAgICBvcHRpb25zID0ge307XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0cyA9IFtdO1xyXG4gICAgICBmb3IgKGtleSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFsID0gb3B0aW9uc1trZXldO1xyXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRfb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICByZXN1bHRzLnB1c2godGhpcy5vcHRpb25zW2tleV0gPSB2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXN1bHRzLnB1c2godm9pZCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5pc0VsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiAhISgoZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC5ub2RlVHlwZSA6IHZvaWQgMCkgPT09IDEpO1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUuZ2V0UGFyZW50cyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGN1cnJlbnRfZWxlbWVudCwgcmVzdWx0O1xyXG4gICAgICByZXN1bHQgPSBbXTtcclxuICAgICAgaWYgKHRoaXMuaXNFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgY3VycmVudF9lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICB3aGlsZSAodGhpcy5pc0VsZW1lbnQoY3VycmVudF9lbGVtZW50KSkge1xyXG4gICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudF9lbGVtZW50KTtcclxuICAgICAgICAgIGN1cnJlbnRfZWxlbWVudCA9IGN1cnJlbnRfZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUuZ2V0VGFnU2VsZWN0b3IgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnNhbml0aXplSXRlbShlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5zYW5pdGl6ZUl0ZW0gPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgIHZhciBjaGFyYWN0ZXJzO1xyXG4gICAgICBjaGFyYWN0ZXJzID0gKGl0ZW0uc3BsaXQoJycpKS5tYXAoZnVuY3Rpb24oY2hhcmFjdGVyKSB7XHJcbiAgICAgICAgaWYgKGNoYXJhY3RlciA9PT0gJzonKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJcXFxcXCIgKyAoJzonLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpICsgXCIgXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmICgvWyAhXCIjJCUmJygpKissLlxcLzs8PT4/QFxcW1xcXFxcXF1eYHt8fX5dLy50ZXN0KGNoYXJhY3RlcikpIHtcclxuICAgICAgICAgIHJldHVybiBcIlxcXFxcIiArIGNoYXJhY3RlcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGVzY2FwZShjaGFyYWN0ZXIpLnJlcGxhY2UoL1xcJS9nLCAnXFxcXCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBjaGFyYWN0ZXJzLmpvaW4oJycpO1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUuZ2V0SWRTZWxlY3RvciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGlkLCBzYW5pdGl6ZWRfaWQ7XHJcbiAgICAgIGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICAgIGlmICgoaWQgIT0gbnVsbCkgJiYgKGlkICE9PSAnJykgJiYgISgvXFxzLy5leGVjKGlkKSkgJiYgISgvXlxcZC8uZXhlYyhpZCkpKSB7XHJcbiAgICAgICAgc2FuaXRpemVkX2lkID0gXCIjXCIgKyAodGhpcy5zYW5pdGl6ZUl0ZW0oaWQpKTtcclxuICAgICAgICBpZiAoZWxlbWVudC5vd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2FuaXRpemVkX2lkKS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgIHJldHVybiBzYW5pdGl6ZWRfaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUuZ2V0Q2xhc3NTZWxlY3RvcnMgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIHZhciBjbGFzc19zdHJpbmcsIGl0ZW0sIHJlc3VsdDtcclxuICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgIGNsYXNzX3N0cmluZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgICBpZiAoY2xhc3Nfc3RyaW5nICE9IG51bGwpIHtcclxuICAgICAgICBjbGFzc19zdHJpbmcgPSBjbGFzc19zdHJpbmcucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xyXG4gICAgICAgIGNsYXNzX3N0cmluZyA9IGNsYXNzX3N0cmluZy5yZXBsYWNlKC9eXFxzfFxccyQvZywgJycpO1xyXG4gICAgICAgIGlmIChjbGFzc19zdHJpbmcgIT09ICcnKSB7XHJcbiAgICAgICAgICByZXN1bHQgPSAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBrLCBsZW4sIHJlZiwgcmVzdWx0cztcclxuICAgICAgICAgICAgcmVmID0gY2xhc3Nfc3RyaW5nLnNwbGl0KC9cXHMrLyk7XHJcbiAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChrID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgayA8IGxlbjsgaysrKSB7XHJcbiAgICAgICAgICAgICAgaXRlbSA9IHJlZltrXTtcclxuICAgICAgICAgICAgICByZXN1bHRzLnB1c2goXCIuXCIgKyAodGhpcy5zYW5pdGl6ZUl0ZW0oaXRlbSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgICAgICAgIH0pLmNhbGwodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVTZWxlY3RvcnMgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIHZhciBhdHRyaWJ1dGUsIGJsYWNrbGlzdCwgaywgbGVuLCByZWYsIHJlZjEsIHJlc3VsdDtcclxuICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgIGJsYWNrbGlzdCA9IFsnaWQnLCAnY2xhc3MnXTtcclxuICAgICAgcmVmID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xyXG4gICAgICBmb3IgKGsgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBrIDwgbGVuOyBrKyspIHtcclxuICAgICAgICBhdHRyaWJ1dGUgPSByZWZba107XHJcbiAgICAgICAgaWYgKHJlZjEgPSBhdHRyaWJ1dGUubm9kZU5hbWUsIGluZGV4T2YuY2FsbChibGFja2xpc3QsIHJlZjEpIDwgMCkge1xyXG4gICAgICAgICAgcmVzdWx0LnB1c2goXCJbXCIgKyBhdHRyaWJ1dGUubm9kZU5hbWUgKyBcIj1cIiArIGF0dHJpYnV0ZS5ub2RlVmFsdWUgKyBcIl1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5nZXROdGhDaGlsZFNlbGVjdG9yID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICB2YXIgY291bnRlciwgaywgbGVuLCBwYXJlbnRfZWxlbWVudCwgc2libGluZywgc2libGluZ3M7XHJcbiAgICAgIHBhcmVudF9lbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICBpZiAocGFyZW50X2VsZW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgIGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIHNpYmxpbmdzID0gcGFyZW50X2VsZW1lbnQuY2hpbGROb2RlcztcclxuICAgICAgICBmb3IgKGsgPSAwLCBsZW4gPSBzaWJsaW5ncy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICAgICAgc2libGluZyA9IHNpYmxpbmdzW2tdO1xyXG4gICAgICAgICAgaWYgKHRoaXMuaXNFbGVtZW50KHNpYmxpbmcpKSB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgICAgaWYgKHNpYmxpbmcgPT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gXCI6bnRoLWNoaWxkKFwiICsgY291bnRlciArIFwiKVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUudGVzdFNlbGVjdG9yID0gZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICAgICAgdmFyIGlzX3VuaXF1ZSwgcmVzdWx0O1xyXG4gICAgICBpc191bmlxdWUgPSBmYWxzZTtcclxuICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsKSAmJiBzZWxlY3RvciAhPT0gJycpIHtcclxuICAgICAgICByZXN1bHQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDEgJiYgcmVzdWx0WzBdID09PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICBpc191bmlxdWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXNfdW5pcXVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUuZ2V0QWxsU2VsZWN0b3JzID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICB2YXIgcmVzdWx0O1xyXG4gICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgdDogbnVsbCxcclxuICAgICAgICBpOiBudWxsLFxyXG4gICAgICAgIGM6IG51bGwsXHJcbiAgICAgICAgYTogbnVsbCxcclxuICAgICAgICBuOiBudWxsXHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChpbmRleE9mLmNhbGwodGhpcy5vcHRpb25zLnNlbGVjdG9ycywgJ3RhZycpID49IDApIHtcclxuICAgICAgICByZXN1bHQudCA9IHRoaXMuZ2V0VGFnU2VsZWN0b3IoZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGluZGV4T2YuY2FsbCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLCAnaWQnKSA+PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0LmkgPSB0aGlzLmdldElkU2VsZWN0b3IoZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGluZGV4T2YuY2FsbCh0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLCAnY2xhc3MnKSA+PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0LmMgPSB0aGlzLmdldENsYXNzU2VsZWN0b3JzKGVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbmRleE9mLmNhbGwodGhpcy5vcHRpb25zLnNlbGVjdG9ycywgJ2F0dHJpYnV0ZScpID49IDApIHtcclxuICAgICAgICByZXN1bHQuYSA9IHRoaXMuZ2V0QXR0cmlidXRlU2VsZWN0b3JzKGVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbmRleE9mLmNhbGwodGhpcy5vcHRpb25zLnNlbGVjdG9ycywgJ250aGNoaWxkJykgPj0gMCkge1xyXG4gICAgICAgIHJlc3VsdC5uID0gdGhpcy5nZXROdGhDaGlsZFNlbGVjdG9yKGVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS50ZXN0VW5pcXVlbmVzcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKSB7XHJcbiAgICAgIHZhciBmb3VuZF9lbGVtZW50cywgcGFyZW50O1xyXG4gICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgIGZvdW5kX2VsZW1lbnRzID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICByZXR1cm4gZm91bmRfZWxlbWVudHMubGVuZ3RoID09PSAxICYmIGZvdW5kX2VsZW1lbnRzWzBdID09PSBlbGVtZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUudGVzdENvbWJpbmF0aW9ucyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGl0ZW1zLCB0YWcpIHtcclxuICAgICAgdmFyIGl0ZW0sIGssIGwsIGxlbiwgbGVuMSwgcmVmLCByZWYxO1xyXG4gICAgICByZWYgPSB0aGlzLmdldENvbWJpbmF0aW9ucyhpdGVtcyk7XHJcbiAgICAgIGZvciAoayA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xyXG4gICAgICAgIGl0ZW0gPSByZWZba107XHJcbiAgICAgICAgaWYgKHRoaXMudGVzdFVuaXF1ZW5lc3MoZWxlbWVudCwgaXRlbSkpIHtcclxuICAgICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAodGFnICE9IG51bGwpIHtcclxuICAgICAgICByZWYxID0gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgIHJldHVybiB0YWcgKyBpdGVtO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAobCA9IDAsIGxlbjEgPSByZWYxLmxlbmd0aDsgbCA8IGxlbjE7IGwrKykge1xyXG4gICAgICAgICAgaXRlbSA9IHJlZjFbbF07XHJcbiAgICAgICAgICBpZiAodGhpcy50ZXN0VW5pcXVlbmVzcyhlbGVtZW50LCBpdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5nZXRVbmlxdWVTZWxlY3RvciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGZvdW5kX3NlbGVjdG9yLCBrLCBsZW4sIHJlZiwgc2VsZWN0b3JfdHlwZSwgc2VsZWN0b3JzO1xyXG4gICAgICBzZWxlY3RvcnMgPSB0aGlzLmdldEFsbFNlbGVjdG9ycyhlbGVtZW50KTtcclxuICAgICAgcmVmID0gdGhpcy5vcHRpb25zLnNlbGVjdG9ycztcclxuICAgICAgZm9yIChrID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgayA8IGxlbjsgaysrKSB7XHJcbiAgICAgICAgc2VsZWN0b3JfdHlwZSA9IHJlZltrXTtcclxuICAgICAgICBzd2l0Y2ggKHNlbGVjdG9yX3R5cGUpIHtcclxuICAgICAgICAgIGNhc2UgJ2lkJzpcclxuICAgICAgICAgICAgaWYgKHNlbGVjdG9ycy5pICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0b3JzLmk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICd0YWcnOlxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0b3JzLnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIGlmICh0aGlzLnRlc3RVbmlxdWVuZXNzKGVsZW1lbnQsIHNlbGVjdG9ycy50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9ycy50O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2NsYXNzJzpcclxuICAgICAgICAgICAgaWYgKChzZWxlY3RvcnMuYyAhPSBudWxsKSAmJiBzZWxlY3RvcnMuYy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICBmb3VuZF9zZWxlY3RvciA9IHRoaXMudGVzdENvbWJpbmF0aW9ucyhlbGVtZW50LCBzZWxlY3RvcnMuYywgc2VsZWN0b3JzLnQpO1xyXG4gICAgICAgICAgICAgIGlmIChmb3VuZF9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kX3NlbGVjdG9yO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2F0dHJpYnV0ZSc6XHJcbiAgICAgICAgICAgIGlmICgoc2VsZWN0b3JzLmEgIT0gbnVsbCkgJiYgc2VsZWN0b3JzLmEubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgZm91bmRfc2VsZWN0b3IgPSB0aGlzLnRlc3RDb21iaW5hdGlvbnMoZWxlbWVudCwgc2VsZWN0b3JzLmEsIHNlbGVjdG9ycy50KTtcclxuICAgICAgICAgICAgICBpZiAoZm91bmRfc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZF9zZWxlY3RvcjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdudGhjaGlsZCc6XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RvcnMubiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9ycy5uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAnKic7XHJcbiAgICB9O1xyXG5cclxuICAgIENzc1NlbGVjdG9yR2VuZXJhdG9yLnByb3RvdHlwZS5nZXRTZWxlY3RvciA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGFsbF9zZWxlY3RvcnMsIGl0ZW0sIGssIGwsIGxlbiwgbGVuMSwgcGFyZW50cywgcmVzdWx0LCBzZWxlY3Rvciwgc2VsZWN0b3JzO1xyXG4gICAgICBhbGxfc2VsZWN0b3JzID0gW107XHJcbiAgICAgIHBhcmVudHMgPSB0aGlzLmdldFBhcmVudHMoZWxlbWVudCk7XHJcbiAgICAgIGZvciAoayA9IDAsIGxlbiA9IHBhcmVudHMubGVuZ3RoOyBrIDwgbGVuOyBrKyspIHtcclxuICAgICAgICBpdGVtID0gcGFyZW50c1trXTtcclxuICAgICAgICBzZWxlY3RvciA9IHRoaXMuZ2V0VW5pcXVlU2VsZWN0b3IoaXRlbSk7XHJcbiAgICAgICAgaWYgKHNlbGVjdG9yICE9IG51bGwpIHtcclxuICAgICAgICAgIGFsbF9zZWxlY3RvcnMucHVzaChzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdG9ycyA9IFtdO1xyXG4gICAgICBmb3IgKGwgPSAwLCBsZW4xID0gYWxsX3NlbGVjdG9ycy5sZW5ndGg7IGwgPCBsZW4xOyBsKyspIHtcclxuICAgICAgICBpdGVtID0gYWxsX3NlbGVjdG9yc1tsXTtcclxuICAgICAgICBzZWxlY3RvcnMudW5zaGlmdChpdGVtKTtcclxuICAgICAgICByZXN1bHQgPSBzZWxlY3RvcnMuam9pbignID4gJyk7XHJcbiAgICAgICAgaWYgKHRoaXMudGVzdFNlbGVjdG9yKGVsZW1lbnQsIHJlc3VsdCkpIHtcclxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBDc3NTZWxlY3RvckdlbmVyYXRvci5wcm90b3R5cGUuZ2V0Q29tYmluYXRpb25zID0gZnVuY3Rpb24oaXRlbXMpIHtcclxuICAgICAgdmFyIGksIGosIGssIGwsIHJlZiwgcmVmMSwgcmVzdWx0O1xyXG4gICAgICBpZiAoaXRlbXMgPT0gbnVsbCkge1xyXG4gICAgICAgIGl0ZW1zID0gW107XHJcbiAgICAgIH1cclxuICAgICAgcmVzdWx0ID0gW1tdXTtcclxuICAgICAgZm9yIChpID0gayA9IDAsIHJlZiA9IGl0ZW1zLmxlbmd0aCAtIDE7IDAgPD0gcmVmID8gayA8PSByZWYgOiBrID49IHJlZjsgaSA9IDAgPD0gcmVmID8gKytrIDogLS1rKSB7XHJcbiAgICAgICAgZm9yIChqID0gbCA9IDAsIHJlZjEgPSByZXN1bHQubGVuZ3RoIC0gMTsgMCA8PSByZWYxID8gbCA8PSByZWYxIDogbCA+PSByZWYxOyBqID0gMCA8PSByZWYxID8gKytsIDogLS1sKSB7XHJcbiAgICAgICAgICByZXN1bHQucHVzaChyZXN1bHRbal0uY29uY2F0KGl0ZW1zW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJlc3VsdC5zaGlmdCgpO1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQuc29ydChmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICByZXR1cm4gaXRlbS5qb2luKCcnKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBDc3NTZWxlY3RvckdlbmVyYXRvcjtcclxuXHJcbiAgfSkoKTtcclxuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsID8gZGVmaW5lLmFtZCA6IHZvaWQgMCkge1xyXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIENzc1NlbGVjdG9yR2VuZXJhdG9yO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJvb3QgPSB0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBleHBvcnRzICE9PSBudWxsID8gZXhwb3J0cyA6IHRoaXM7XHJcbiAgICByb290LkNzc1NlbGVjdG9yR2VuZXJhdG9yID0gQ3NzU2VsZWN0b3JHZW5lcmF0b3I7XHJcbiAgfVxyXG5cclxufSkuY2FsbCh0aGlzKTtcclxuIiwiLypcclxuICBSZXBsYWNlIHRlbXBsYXRlcy5cclxuXHJcbiAgUmVwbGFjZSB0aGUgZGVmYXVsdCBwcmltbyB0ZW1wbGF0ZXMgaHR0cDovL2xvY2FsaG9zdDo4MDAzL3ByaW1vLWV4cGxvcmUvbGliL3RlbXBsYXRlcy5qc1xyXG4gIHdpdGggY3VzdG9tIHRlbXBsYXRlc1xyXG5cclxuICBLVUxldXZlbi9MSUJJUyAoYykgMjAxOFxyXG4gIFRvbSBWYW5tZWNoZWxlblxyXG4qL1xyXG5pbXBvcnQgJy4vdXRpbHMnXHJcblxyXG4vKiBpbXBvcnQgeW91ciB0ZW1wbGF0ZXMgKi9cclxuaW1wb3J0IHBybVNlYXJjaFJlc3VsdEF2YWlsYWJpbGl0eUxpbmVIVE1MIGZyb20gJy4uL2h0bWwvdGVtcGxhdGVzL3BybS1zZWFyY2gtcmVzdWx0LWF2YWlsYWJpbGl0eS1saW5lLmh0bWwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZW1wbGF0ZXMge1xyXG4gICAgc3RhdGljIGdldCBhbGwoKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgIGlkID0gdGVtcGxhdGVJZCBpbiB0aGUgdGVtcGxhdGVDYWNoZVxyXG4gICAgICAgICAgdGVtcGxhdGUgPSB0aGUgaW1wb3J0ZWQgdGVtcGFsdGVcclxuICAgICAgICAgIGVuYWJsZWQgPSB0cnVlL2ZhbHNlIHNob3VsZCB0aGUgY29tcG9uZW50IGJlIGNyZWF0ZWRcclxuICAgICAgICAgIGVuYWJsZUluVmlldyA9IHJlZ2V4IHRvIGRlZmluZSBpbiB3aGljaCB2aWV3cyB0aGUgdGVtcGxhdGUgaGFzIHRvIGJlIHJlcGxhY2VkLlxyXG5cclxuICAgICAgICAgIGV4LiB7aWQ6ICdjb21wb25lbnRzL3NlYXJjaC90b3BiYXIvdXNlckFyZWEvdXNlci1hcmVhLmh0bWwnLCB0ZW1wbGF0ZTogdXNlckFyZWFIVE1MLCBlbmFibGVkOiB0cnVlLCBlbmFibGVJblZpZXc6ICcuKid9XHJcbiAgICAgICAgICByZXN1bHRzIGluOlxyXG4gICAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvc2VhcmNoL3RvcGJhci91c2VyQXJlYS91c2VyLWFyZWEuaHRtbCcsdXNlckFyZWFIVE1MKTtcclxuICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBbICAgICAgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiAnY29tcG9uZW50cy9zZWFyY2gvc2VhcmNoUmVzdWx0L3NlYXJjaFJlc3VsdEF2YWlsYWJpbGl0eS9zZWFyY2hSZXN1bHRBdmFpbGFiaWxpdHlMaW5lLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHBybVNlYXJjaFJlc3VsdEF2YWlsYWJpbGl0eUxpbmVIVE1MLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGVuYWJsZUluVmlldzogJ1JFR0lPTkFMJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXS5maWx0ZXIoKHRlbXBsYXRlKSA9PiAodGVtcGxhdGUuZW5hYmxlZCAmJiBuZXcgUmVnRXhwKHRlbXBsYXRlLmVuYWJsZUluVmlldykudGVzdCh3aW5kb3cuYXBwQ29uZmlnLnZpZCkpKTtcclxuICAgIH1cclxufVxyXG4iLCIvKlxyXG4gIEdlbmVyYWxcclxuXHJcbiAgS1VMZXV2ZW4vTElCSVMgKGMpIDIwMTdcclxuICBNZWhtZXQgQ2VsaWtcclxuKi9cclxuU3RyaW5nLnByb3RvdHlwZS50b0NhbWVsQ2FzZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5zcGxpdCgnLScpLm1hcCgoZCwgaSwgYSkgPT4gaSA+IDAgPyBkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZC5zbGljZSgxKSA6IGQpLmpvaW4oJycpO1xyXG59XHJcblxyXG4vKlxyXG5hbmd1bGFyLm1vZHVsZSgnZ29vZ2xlQW5hbHl0aWNzJywgW10pO1xyXG5hbmd1bGFyLm1vZHVsZSgnZ29vZ2xlQW5hbHl0aWNzJykucnVuKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkaW50ZXJ2YWwsIGFuYWx5dGljc09wdGlvbnMpIHtcclxuXHRpZihhbmFseXRpY3NPcHRpb25zLmhhc093blByb3BlcnR5KFwiZW5hYmxlZFwiKSAmJiBhbmFseXRpY3NPcHRpb25zLmVuYWJsZWQpIHtcclxuXHRcdGlmKGFuYWx5dGljc09wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJzaXRlSWRcIikgJiYgYW5hbHl0aWNzT3B0aW9ucy5zaXRlSWQgIT0gJycpIHtcclxuXHRcdFx0XHJcbiAgICAgICAgICAgIChmdW5jdGlvbih3LGQscyxsLGkpe3dbbF09d1tsXXx8W107d1tsXS5wdXNoKHsnZ3RtLnN0YXJ0JzpcclxuICAgICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCksZXZlbnQ6J2d0bS5qcyd9KTt2YXIgZj1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKHMpWzBdLFxyXG4gICAgICAgICAgICBqPWQuY3JlYXRlRWxlbWVudChzKSxkbD1sIT0nZGF0YUxheWVyJz8nJmw9JytsOicnO2ouYXN5bmM9dHJ1ZTtqLnNyYz1cclxuICAgICAgICAgICAgJ2h0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL2d0bS5qcz9pZD0nK2krZGw7Zi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqLGYpO1xyXG4gICAgICAgICAgICB9KSh3aW5kb3csZG9jdW1lbnQsJ3NjcmlwdCcsJ2RhdGFMYXllcicsYW5hbHl0aWNzT3B0aW9ucy5zaXRlSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW5saW5lU2NyaXB0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbm9zY3JpcHQnKTtcclxuICAgICAgICBpbmxpbmVTY3JpcHRUYWcudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG5cclxuICAgICAgICBjb25zdCBpbmxpbmVDb2RlID0gJzxub3NjcmlwdD48aWZyYW1lIHNyYz1cImh0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL25zLmh0bWw/aWQ9R1RNLVdSMjU5TVhcIiBoZWlnaHQ9XCIwXCIgd2lkdGg9XCIwXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7dmlzaWJpbGl0eTpoaWRkZW5cIj48L2lmcmFtZT48L25vc2NyaXB0Pic7XHJcblxyXG4gICAgICAgIC8vIE1ldGhvZHMgb2YgYWRkaW5nIGlubmVyIHRleHQgc29tZXRpbWVzIGRvbid0IHdvcmsgYWNyb3NzIGJyb3dzZXJzLlxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBpbmxpbmVTY3JpcHRUYWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaW5saW5lQ29kZSkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGlubGluZVNjcmlwdFRhZy50ZXh0ID0gaW5saW5lQ29kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5hcHBlbmRDaGlsZChpbmxpbmVTY3JpcHRUYWcpO1x0XHRcclxuXHR9XHJcbn0pO1xyXG5hbmd1bGFyLm1vZHVsZSgnZ29vZ2xlQW5hbHl0aWNzJykudmFsdWUoJ2FuYWx5dGljc09wdGlvbnMnLCB7XHJcblx0ZW5hYmxlZDogZmFsc2UsXHJcblx0c2l0ZUlkOiAnJyxcclxuXHRkZWZhdWx0VGl0bGU6ICcnXHJcbn0pO1xyXG4qL1xyXG5cclxuLy9pbnRlcmNlcHQgYXBpIGNhbGxzIGZvciBkYXRhYmFzZSBzZWFyY2ggYW5kIGNoYW5nZSB0byBLVUwgKG9ubHkgcmVnaW9uYWwgdmlld3MpXHJcbiAgLypcclxudmFyIHJlZ192aWV3cyA9IFtcIktVTGV1dmVuX1RNT1JFTVwiLCBcIktVTGV1dmVuX1RNT1JFS1wiLCBcIktVTGV1dmVuX1VDTExcIiwgXCJLVUxldXZlbl9MVUNBXCIsIFwiS1VMZXV2ZW5fT0RJU0VFXCJdO1xyXG5pZiAocmVnX3ZpZXdzLmluY2x1ZGVzKHdpbmRvdy5hcHBDb25maWcudmlkKSkge1xyXG4gIGxldCBhcHAgPSBhbmd1bGFyLm1vZHVsZSgndmlld0N1c3RvbScsIFtdKVxyXG4gICAgLmZhY3RvcnkoJ2h0dHBDYWxsSW50ZXJjZXB0b3InLCBbKCkgPT4ge1xyXG4gICAgICB2YXIgaHR0cENhbGxJbnRlcmNlcHRvciA9IHtcclxuICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpe1xyXG4gICAgICAgICAgaWYgKGNvbmZpZy51cmwuaW5jbHVkZXMoJ3BueHMnKSAmJiAhY29uZmlnLnVybC5pbmNsdWRlcygnZGVsaXZlcnknKSAmJiBjb25maWcucGFyYW1zKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coY29uZmlnKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGNvbmZpZy5wYXJhbXMuZGF0YWJhc2VzKXtcclxuICAgICAgICAgICAgICBjb25maWcucGFyYW1zLmluc3QgPSAnS1VMJztcclxuICAgICAgICAgICAgICBjb25maWcucGFyYW1zLnZpZCA9ICdLVUxldXZlbic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaHR0cENhbGxJbnRlcmNlcHRvcjtcclxuICAgIH1dKVxyXG4gICAgLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCAoJGh0dHBQcm92aWRlcikgPT4ge1xyXG4gICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdodHRwQ2FsbEludGVyY2VwdG9yJyk7XHJcbiAgICB9XSk7XHJcbn1cclxuKi9cclxuLypcclxuYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0Q2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgcmV0dXJuIChmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgaWYgKGVsZW1lbnRbMF0ubm9kZU5hbWUgPT09ICdIVE1MJykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5oYXNDbGFzcyhjbGFzc05hbWUpKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudC5wYXJlbnQoKSwgY2xhc3NOYW1lKTtcclxuICAgIH1cclxuICB9KSh0aGlzLCBjbGFzc05hbWUpO1xyXG59O1xyXG5cclxuYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0Tm9kZSA9IGZ1bmN0aW9uIChub2RlTmFtZSkge1xyXG4gIHJldHVybiAoZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBub2RlTmFtZSkge1xyXG4gICAgaWYgKGVsZW1lbnRbMF0ubm9kZU5hbWUgPT09ICdIVE1MJykge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZWxzZSBpZiAoZWxlbWVudFswXS5ub2RlTmFtZSA9PSBub2RlTmFtZS50b1VwcGVyQ2FzZSgpKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGNsb3Nlc3QoZWxlbWVudC5wYXJlbnQoKSwgbm9kZU5hbWUpO1xyXG4gICAgfVxyXG4gIH0pKHRoaXMsIG5vZGVOYW1lKTtcclxufTtcclxuKi9cclxuIl19"}